<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Android Hardware Abstraction Layer: hardware/libhardware/include/hardware/camera.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="https://www.gstatic.com/external_hosted/source_android_com/sac_doxygen_jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hal_doxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="header">
            <table width=80%>
              <tr>
                <td><a href="../../index.html"><img src="../../assets/images/sac_logo.png" width="123" height="25" alt="Android Developers" /></td>
                <td><a class=toptab href="../../source/index.html">Source</a></td>
                <td><a class=devices href="../index.html">Devices</a></td>
                <td><a class=toptab href="../../security/index.html">Security</a></td>
                <td><a class=toptab href="../../compatibility/index.html">Compatibility</a></td>
                <td width=20%></td>
              </tr>
            </table>
  </div>
<hr class=light>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('camera_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">camera.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="https://source.android.com/devices/halref/camera_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2010-2011 The Android Open Source Project</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef ANDROID_INCLUDE_CAMERA_H</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ANDROID_INCLUDE_CAMERA_H</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="https://source.android.com/devices/halref/camera__common_8h.html">camera_common.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * Camera device HAL, initial version [ CAMERA_DEVICE_API_VERSION_1_0 ]</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * DEPRECATED. New devices should use Camera HAL v3.2 or newer.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * Supports the android.hardware.Camera API, and the android.hardware.camera2</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * API in legacy mode only.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * Camera devices that support this version of the HAL must return a value in</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * the range HARDWARE_DEVICE_API_VERSION(0,0)-(1,FF) in</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * camera_device_t.common.version. CAMERA_DEVICE_API_VERSION_1_0 is the</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * recommended value.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * Camera modules that implement version 2.0 or higher of camera_module_t must</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * also return the value of camera_device_t.common.version in</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * camera_info_t.device_version.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * See camera_common.h for more details.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;__BEGIN_DECLS</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#acabc5b6d19082e17eb1ed885f65b2a7a">   45</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="https://source.android.com/devices/halref/camera_8h.html#acabc5b6d19082e17eb1ed885f65b2a7a">camera_release_memory</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory</a> *mem);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__memory.html">   47</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory</a> {</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__memory.html#a735984d41155bc1032e09bece8f8d66d">   48</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__memory.html#a854352f53b148adc24983a58a1866d66">   49</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html#a854352f53b148adc24983a58a1866d66">size</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__memory.html#a81011b79683fab64ce3aff71114f8fdd">   50</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html#a81011b79683fab64ce3aff71114f8fdd">handle</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__memory.html#ad0d84e52c027b96c96640c0219347f32">   51</a></span>&#160;    <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#acabc5b6d19082e17eb1ed885f65b2a7a">camera_release_memory</a> <a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html#ad0d84e52c027b96c96640c0219347f32">release</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;} <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a1cbd73abbb75eae22d7b16a0701a3691">camera_memory_t</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#a7d1c7cd6fd04752518c66b1c5c1107b7">   54</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory_t</a>* (*camera_request_memory)(<span class="keywordtype">int</span> fd, <span class="keywordtype">size_t</span> buf_size, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_bufs,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                  <span class="keywordtype">void</span> *user);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#ac3dda46741916ef11a0a504d63f4580a">   57</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="https://source.android.com/devices/halref/camera_8h.html#ac3dda46741916ef11a0a504d63f4580a">camera_notify_callback</a>)(int32_t msg_type,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        int32_t ext1,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        int32_t ext2,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordtype">void</span> *user);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#a576de8e4fd0f9a77a6660315bb468c0b">   62</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a576de8e4fd0f9a77a6660315bb468c0b">camera_data_callback</a>)(int32_t msg_type,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">const</span> <a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory_t</a> *data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        camera_frame_metadata_t *metadata, <span class="keywordtype">void</span> *user);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#ac0cbd5a2e4cf4ce23f7e7c373f5a7b56">   66</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="https://source.android.com/devices/halref/camera_8h.html#ac0cbd5a2e4cf4ce23f7e7c373f5a7b56">camera_data_timestamp_callback</a>)(int64_t timestamp,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        int32_t msg_type,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keyword">const</span> <a class="code" href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory_t</a> *data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordtype">void</span> *user);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/camera_8h.html#ac84f48217ea4113714a653523178f895">   71</a></span>&#160;<span class="preprocessor">#define HAL_CAMERA_PREVIEW_WINDOW_TAG 0xcafed00d</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">   73</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> {</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a596a54f4151c37be0a659508f5e0c522">   74</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a596a54f4151c37be0a659508f5e0c522">dequeue_buffer</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                          buffer_handle_t** buffer, <span class="keywordtype">int</span> *stride);</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a5ca05a0e6bb23963e7f3756108cd44ba">   76</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a5ca05a0e6bb23963e7f3756108cd44ba">enqueue_buffer</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                buffer_handle_t* buffer);</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a4d36c0cf8eda04e4755e8013d5bdee2e">   78</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a4d36c0cf8eda04e4755e8013d5bdee2e">cancel_buffer</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                buffer_handle_t* buffer);</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ae8f67d324817d6014a3efc9f66276b3f">   80</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ae8f67d324817d6014a3efc9f66276b3f">set_buffer_count</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w, <span class="keywordtype">int</span> count);</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a07aa8dfc732f63daaee16a77d3bc4126">   81</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a07aa8dfc732f63daaee16a77d3bc4126">set_buffers_geometry</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* pw,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keywordtype">int</span> format);</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a29fda59dfe4e859fef7441a748d72b3a">   83</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a29fda59dfe4e859fef7441a748d72b3a">set_crop</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> *w,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="keywordtype">int</span> left, <span class="keywordtype">int</span> top, <span class="keywordtype">int</span> right, <span class="keywordtype">int</span> bottom);</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a84567d722e86dfe00bd46db3704d15f6">   85</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a84567d722e86dfe00bd46db3704d15f6">set_usage</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w, <span class="keywordtype">int</span> usage);</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a580dd8b5abb510f30ea8de5edc70a313">   86</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a580dd8b5abb510f30ea8de5edc70a313">set_swap_interval</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> *w, <span class="keywordtype">int</span> interval);</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#aa9492807671bd2b7febdacef1ffb403c">   87</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#aa9492807671bd2b7febdacef1ffb403c">get_min_undequeued_buffer_count</a>)(<span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> *w,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordtype">int</span> *count);</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a948ddc3341ec9f9075d548565b5fc0b5">   89</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a948ddc3341ec9f9075d548565b5fc0b5">lock_buffer</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a>* w,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                buffer_handle_t* buffer);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Timestamps are measured in nanoseconds, and must be comparable</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// and monotonically increasing between two frames in the same</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// preview stream. They do not need to be comparable between</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// consecutive or parallel preview streams, cameras, or app runs.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ade4d2832841d2f83db51efbbc2ab9d4d">   95</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ade4d2832841d2f83db51efbbc2ab9d4d">set_timestamp</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> *w, int64_t timestamp);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;} <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a22f55297ba61dec38b5a5978f3e8731d">preview_stream_ops_t</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html">   99</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html">camera_device_ops</a> {<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    /** Set the ANativeWindow to which preview frames are sent */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a98787866b3170541e5f957701ca939cd">  101</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a98787866b3170541e5f957701ca939cd">set_preview_window</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a> *window);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    /** Set the notification and data callbacks */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#ac5137410f8d36190e8dd147cc127ef1b">  105</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#ac5137410f8d36190e8dd147cc127ef1b">set_callbacks</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#ac3dda46741916ef11a0a504d63f4580a">camera_notify_callback</a> notify_cb,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a576de8e4fd0f9a77a6660315bb468c0b">camera_data_callback</a> data_cb,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#ac0cbd5a2e4cf4ce23f7e7c373f5a7b56">camera_data_timestamp_callback</a> data_cb_timestamp,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a7d1c7cd6fd04752518c66b1c5c1107b7">camera_request_memory</a> get_memory,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordtype">void</span> *user);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">     * The following three functions all take a msg_type, which is a bitmask of</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">     * the messages defined in include/ui/Camera.h</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     * Enable a message, or set of messages.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a1835806683077942826deb959f5895be">  120</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a1835806683077942826deb959f5895be">enable_msg_type</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, int32_t msg_type);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     * Disable a message, or a set of messages.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">     * Once received a call to disableMsgType(CAMERA_MSG_VIDEO_FRAME), camera</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * HAL should not rely on its client to call releaseRecordingFrame() to</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     * release video recording frames sent out by the cameral HAL before and</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * after the disableMsgType(CAMERA_MSG_VIDEO_FRAME) call. Camera HAL</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * clients must not modify/access any video recording frame after calling</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     * disableMsgType(CAMERA_MSG_VIDEO_FRAME).</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a3074e26895d340fb9e534ee249db2e91">  132</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a3074e26895d340fb9e534ee249db2e91">disable_msg_type</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, int32_t msg_type);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     * Query whether a message, or a set of messages, is enabled.  Note that</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">     * this is operates as an AND, if any of the messages queried are off, this</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">     * will return false.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#ab4edb6977fe037a6179baf66e90abf8d">  139</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#ab4edb6977fe037a6179baf66e90abf8d">msg_type_enabled</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, int32_t msg_type);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     * Start preview mode.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6f6feb78089de5e6ba26edd411cc00b3">  144</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6f6feb78089de5e6ba26edd411cc00b3">start_preview</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">     * Stop a previously started preview.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0f13609873825d9ecfb0a29d4c8af8e1">  149</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0f13609873825d9ecfb0a29d4c8af8e1">stop_preview</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">     * Returns true if preview is enabled.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a43369d25620c2a322fa956a2ec075087">  154</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a43369d25620c2a322fa956a2ec075087">preview_enabled</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * Request the camera HAL to store meta data or real YUV data in the video</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     * buffers sent out via CAMERA_MSG_VIDEO_FRAME for a recording session. If</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     * it is not called, the default camera HAL behavior is to store real YUV</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     * data in the video buffers.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">     * This method should be called before startRecording() in order to be</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">     * effective.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">     * If meta data is stored in the video buffers, it is up to the receiver of</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">     * the video buffers to interpret the contents and to find the actual frame</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">     * data with the help of the meta data in the buffer. How this is done is</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">     * outside of the scope of this method.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">     * Some camera HALs may not support storing meta data in the video buffers,</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">     * but all camera HALs should support storing real YUV data in the video</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">     * buffers. If the camera HAL does not support storing the meta data in the</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">     * video buffers when it is requested to do do, INVALID_OPERATION must be</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">     * returned. It is very useful for the camera HAL to pass meta data rather</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">     * than the actual frame data directly to the video encoder, since the</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">     * amount of the uncompressed frame data can be very large if video size is</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">     * large.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">     * @param enable if true to instruct the camera HAL to store</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">     *        meta data in the video buffers; false to instruct</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">     *        the camera HAL to store real YUV data in the video</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">     *        buffers.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">     * @return OK on success.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a601da1fffb83b440c9a92f02b4131d2f">  186</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a601da1fffb83b440c9a92f02b4131d2f">store_meta_data_in_buffers</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, <span class="keywordtype">int</span> enable);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">     * Start record mode. When a record image is available, a</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">     * CAMERA_MSG_VIDEO_FRAME message is sent with the corresponding</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">     * frame. Every record frame must be released by a camera HAL client via</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">     * releaseRecordingFrame() before the client calls</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     * disableMsgType(CAMERA_MSG_VIDEO_FRAME). After the client calls</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     * disableMsgType(CAMERA_MSG_VIDEO_FRAME), it is the camera HAL&#39;s</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     * responsibility to manage the life-cycle of the video recording frames,</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">     * and the client must not modify/access any video recording frames.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a96b33a47608eac0dfb531720ebe98444">  198</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a96b33a47608eac0dfb531720ebe98444">start_recording</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">     * Stop a previously started recording.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a4c7ab7efa632bd4c15a289dbc427652c">  203</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a4c7ab7efa632bd4c15a289dbc427652c">stop_recording</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">     * Returns true if recording is enabled.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a5ba55542ca72ffb926149712b487a9df">  208</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a5ba55542ca72ffb926149712b487a9df">recording_enabled</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     * Release a record frame previously returned by CAMERA_MSG_VIDEO_FRAME.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">     * It is camera HAL client&#39;s responsibility to release video recording</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">     * frames sent out by the camera HAL before the camera HAL receives a call</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">     * to disableMsgType(CAMERA_MSG_VIDEO_FRAME). After it receives the call to</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">     * disableMsgType(CAMERA_MSG_VIDEO_FRAME), it is the camera HAL&#39;s</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">     * responsibility to manage the life-cycle of the video recording frames.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0ef70c5314c4c1cd711e884a12996d3f">  219</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0ef70c5314c4c1cd711e884a12996d3f">release_recording_frame</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">void</span> *opaque);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">     * Start auto focus, the notification callback routine is called with</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">     * CAMERA_MSG_FOCUS once when focusing is complete. autoFocus() will be</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">     * called again if another auto focus is needed.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a7356499aebf70e023b2b4eb36ebe0190">  227</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a7356499aebf70e023b2b4eb36ebe0190">auto_focus</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     * Cancels auto-focus function. If the auto-focus is still in progress,</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">     * this function will cancel it. Whether the auto-focus is in progress or</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     * not, this function will return the focus position to the default.  If</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     * the camera does not support auto-focus, this is a no-op.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a9298fe515800d56b5663536229344929">  235</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a9298fe515800d56b5663536229344929">cancel_auto_focus</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     * Take a picture.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a685431e04eaa6a2811aec44e8c637a59">  240</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a685431e04eaa6a2811aec44e8c637a59">take_picture</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     * Cancel a picture that was started with takePicture. Calling this method</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     * when no picture is being taken is a no-op.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#af16356410ebad1310b874309ee95fb46">  246</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#af16356410ebad1310b874309ee95fb46">cancel_picture</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">     * Set the camera parameters. This returns BAD_VALUE if any parameter is</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     * invalid or not supported.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#aa67f63aefad0ed0def94e91058539346">  252</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#aa67f63aefad0ed0def94e91058539346">set_parameters</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *parms);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /** Retrieve the camera parameters.  The buffer returned by the camera HAL</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">        must be returned back to it with put_parameters, if put_parameters</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">        is not NULL.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a2606cb586d4aebd87788c73ddcbf2ce0">  258</a></span>&#160;    <span class="keywordtype">char</span> *(*get_parameters)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    /** The camera HAL uses its own memory to pass us the parameters when we</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">        call get_parameters.  Use this function to return the memory back to</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">        the camera HAL, if put_parameters is not NULL.  If put_parameters</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">        is NULL, then you have to use free() to release the memory.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0e9e604dfb53c675daea77cd6cdfdba6">  265</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0e9e604dfb53c675daea77cd6cdfdba6">put_parameters</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, <span class="keywordtype">char</span> *);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">     * Send command to camera driver.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6151ab1fcfb36d1b3c6b395b354fdb98">  270</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6151ab1fcfb36d1b3c6b395b354fdb98">send_command</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                int32_t cmd, int32_t arg1, int32_t arg2);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     * Release the hardware resources owned by this object.  Note that this is</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">     * *not* done in the destructor.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a900dc37e7a2970bf8e0f97d2c2530daa">  277</a></span>&#160;    void (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a900dc37e7a2970bf8e0f97d2c2530daa">release</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">     * Dump state of the camera hardware</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a254ca689a3230d9f8b01392b6c9b41e3">  282</a></span>&#160;    int (*<a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html#a254ca689a3230d9f8b01392b6c9b41e3">dump</a>)(<span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> *, <span class="keywordtype">int</span> fd);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;} <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a9a5bdb39b59dbb718da072ec5a25d934">camera_device_ops_t</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device.html">  285</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a> {<span class="comment"></span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     * camera_device.common.version must be in the range</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     * HARDWARE_DEVICE_API_VERSION(0,0)-(1,FF). CAMERA_DEVICE_API_VERSION_1_0 is</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">     * recommended.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device.html#a75bb16f553e7a3642d7d16e229a1d90d">  291</a></span>&#160;    <a class="code" href="structhw__device__t.html">hw_device_t</a> <a class="code" href="https://source.android.com/devices/halref/structcamera__device.html#a75bb16f553e7a3642d7d16e229a1d90d">common</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device.html#a4ecfc412a4d397881ee2aa06bc16b3da">  292</a></span>&#160;    <a class="code" href="https://source.android.com/devices/halref/structcamera__device__ops.html">camera_device_ops_t</a> *<a class="code" href="https://source.android.com/devices/halref/structcamera__device.html#a4ecfc412a4d397881ee2aa06bc16b3da">ops</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="https://source.android.com/devices/halref/structcamera__device.html#a8b6505c37d4ff95854b8b00527e4d9fa">  293</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="https://source.android.com/devices/halref/structcamera__device.html#a8b6505c37d4ff95854b8b00527e4d9fa">priv</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;} <a class="code" href="https://source.android.com/devices/halref/camera_8h.html#a51f0c937d3757037cc861cb8b08204e0">camera_device_t</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;__END_DECLS</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef ANDROID_INCLUDE_CAMERA_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="camera_8h_html_a576de8e4fd0f9a77a6660315bb468c0b"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a576de8e4fd0f9a77a6660315bb468c0b">camera_data_callback</a></div><div class="ttdeci">void(* camera_data_callback)(int32_t msg_type, const camera_memory_t *data, unsigned int index, camera_frame_metadata_t *metadata, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00062">camera.h:62</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_ac5137410f8d36190e8dd147cc127ef1b"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#ac5137410f8d36190e8dd147cc127ef1b">camera_device_ops::set_callbacks</a></div><div class="ttdeci">void(* set_callbacks)(struct camera_device *, camera_notify_callback notify_cb, camera_data_callback data_cb, camera_data_timestamp_callback data_cb_timestamp, camera_request_memory get_memory, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00105">camera.h:105</a></div></div>
<div class="ttc" id="camera_8h_html_ac0cbd5a2e4cf4ce23f7e7c373f5a7b56"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#ac0cbd5a2e4cf4ce23f7e7c373f5a7b56">camera_data_timestamp_callback</a></div><div class="ttdeci">void(* camera_data_timestamp_callback)(int64_t timestamp, int32_t msg_type, const camera_memory_t *data, unsigned int index, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00066">camera.h:66</a></div></div>
<div class="ttc" id="structcamera__device_html_a8b6505c37d4ff95854b8b00527e4d9fa"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device.html#a8b6505c37d4ff95854b8b00527e4d9fa">camera_device::priv</a></div><div class="ttdeci">void * priv</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00293">camera.h:293</a></div></div>
<div class="ttc" id="camera_8h_html_a22f55297ba61dec38b5a5978f3e8731d"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a22f55297ba61dec38b5a5978f3e8731d">preview_stream_ops_t</a></div><div class="ttdeci">struct preview_stream_ops preview_stream_ops_t</div></div>
<div class="ttc" id="structcamera__memory_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__memory.html#a735984d41155bc1032e09bece8f8d66d">camera_memory::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00048">camera.h:48</a></div></div>
<div class="ttc" id="camera_8h_html_a1cbd73abbb75eae22d7b16a0701a3691"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a1cbd73abbb75eae22d7b16a0701a3691">camera_memory_t</a></div><div class="ttdeci">struct camera_memory camera_memory_t</div></div>
<div class="ttc" id="structcamera__device__ops_html_a0ef70c5314c4c1cd711e884a12996d3f"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0ef70c5314c4c1cd711e884a12996d3f">camera_device_ops::release_recording_frame</a></div><div class="ttdeci">void(* release_recording_frame)(struct camera_device *, const void *opaque)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00219">camera.h:219</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a3074e26895d340fb9e534ee249db2e91"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a3074e26895d340fb9e534ee249db2e91">camera_device_ops::disable_msg_type</a></div><div class="ttdeci">void(* disable_msg_type)(struct camera_device *, int32_t msg_type)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00132">camera.h:132</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a596a54f4151c37be0a659508f5e0c522"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a596a54f4151c37be0a659508f5e0c522">preview_stream_ops::dequeue_buffer</a></div><div class="ttdeci">int(* dequeue_buffer)(struct preview_stream_ops *w, buffer_handle_t **buffer, int *stride)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00074">camera.h:74</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a07aa8dfc732f63daaee16a77d3bc4126"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a07aa8dfc732f63daaee16a77d3bc4126">preview_stream_ops::set_buffers_geometry</a></div><div class="ttdeci">int(* set_buffers_geometry)(struct preview_stream_ops *pw, int w, int h, int format)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00081">camera.h:81</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a43369d25620c2a322fa956a2ec075087"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a43369d25620c2a322fa956a2ec075087">camera_device_ops::preview_enabled</a></div><div class="ttdeci">int(* preview_enabled)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00154">camera.h:154</a></div></div>
<div class="ttc" id="structcamera__memory_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__memory.html#a854352f53b148adc24983a58a1866d66">camera_memory::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00049">camera.h:49</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a5ca05a0e6bb23963e7f3756108cd44ba"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a5ca05a0e6bb23963e7f3756108cd44ba">preview_stream_ops::enqueue_buffer</a></div><div class="ttdeci">int(* enqueue_buffer)(struct preview_stream_ops *w, buffer_handle_t *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00076">camera.h:76</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a9298fe515800d56b5663536229344929"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a9298fe515800d56b5663536229344929">camera_device_ops::cancel_auto_focus</a></div><div class="ttdeci">int(* cancel_auto_focus)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00235">camera.h:235</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a0f13609873825d9ecfb0a29d4c8af8e1"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0f13609873825d9ecfb0a29d4c8af8e1">camera_device_ops::stop_preview</a></div><div class="ttdeci">void(* stop_preview)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00149">camera.h:149</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a900dc37e7a2970bf8e0f97d2c2530daa"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a900dc37e7a2970bf8e0f97d2c2530daa">camera_device_ops::release</a></div><div class="ttdeci">void(* release)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00277">camera.h:277</a></div></div>
<div class="ttc" id="structcamera__device_html_a4ecfc412a4d397881ee2aa06bc16b3da"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device.html#a4ecfc412a4d397881ee2aa06bc16b3da">camera_device::ops</a></div><div class="ttdeci">camera_device_ops_t * ops</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00292">camera.h:292</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html">preview_stream_ops</a></div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00073">camera.h:73</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a601da1fffb83b440c9a92f02b4131d2f"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a601da1fffb83b440c9a92f02b4131d2f">camera_device_ops::store_meta_data_in_buffers</a></div><div class="ttdeci">int(* store_meta_data_in_buffers)(struct camera_device *, int enable)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00186">camera.h:186</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a29fda59dfe4e859fef7441a748d72b3a"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a29fda59dfe4e859fef7441a748d72b3a">preview_stream_ops::set_crop</a></div><div class="ttdeci">int(* set_crop)(struct preview_stream_ops *w, int left, int top, int right, int bottom)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00083">camera.h:83</a></div></div>
<div class="ttc" id="camera_8h_html_a51f0c937d3757037cc861cb8b08204e0"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a51f0c937d3757037cc861cb8b08204e0">camera_device_t</a></div><div class="ttdeci">struct camera_device camera_device_t</div></div>
<div class="ttc" id="structcamera__device__ops_html_a0e9e604dfb53c675daea77cd6cdfdba6"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a0e9e604dfb53c675daea77cd6cdfdba6">camera_device_ops::put_parameters</a></div><div class="ttdeci">void(* put_parameters)(struct camera_device *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00265">camera.h:265</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_ade4d2832841d2f83db51efbbc2ab9d4d"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ade4d2832841d2f83db51efbbc2ab9d4d">preview_stream_ops::set_timestamp</a></div><div class="ttdeci">int(* set_timestamp)(struct preview_stream_ops *w, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00095">camera.h:95</a></div></div>
<div class="ttc" id="camera_8h_html_acabc5b6d19082e17eb1ed885f65b2a7a"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#acabc5b6d19082e17eb1ed885f65b2a7a">camera_release_memory</a></div><div class="ttdeci">void(* camera_release_memory)(struct camera_memory *mem)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00045">camera.h:45</a></div></div>
<div class="ttc" id="structcamera__device_html"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device.html">camera_device</a></div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00285">camera.h:285</a></div></div>
<div class="ttc" id="structhw__device__t_html"><div class="ttname"><a href="structhw__device__t.html">hw_device_t</a></div><div class="ttdef"><b>Definition:</b> <a href="https://source.android.com/devices/halref/hardware_8h_source.html#l00167">hardware.h:167</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a580dd8b5abb510f30ea8de5edc70a313"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a580dd8b5abb510f30ea8de5edc70a313">preview_stream_ops::set_swap_interval</a></div><div class="ttdeci">int(* set_swap_interval)(struct preview_stream_ops *w, int interval)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00086">camera.h:86</a></div></div>
<div class="ttc" id="camera__common_8h_html"><div class="ttname"><a href="https://source.android.com/devices/halref/camera__common_8h.html">camera_common.h</a></div></div>
<div class="ttc" id="structcamera__memory_html_ad0d84e52c027b96c96640c0219347f32"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__memory.html#ad0d84e52c027b96c96640c0219347f32">camera_memory::release</a></div><div class="ttdeci">camera_release_memory release</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00051">camera.h:51</a></div></div>
<div class="ttc" id="structcamera__memory_html"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__memory.html">camera_memory</a></div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00047">camera.h:47</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_aa9492807671bd2b7febdacef1ffb403c"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#aa9492807671bd2b7febdacef1ffb403c">preview_stream_ops::get_min_undequeued_buffer_count</a></div><div class="ttdeci">int(* get_min_undequeued_buffer_count)(const struct preview_stream_ops *w, int *count)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00087">camera.h:87</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_ae8f67d324817d6014a3efc9f66276b3f"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#ae8f67d324817d6014a3efc9f66276b3f">preview_stream_ops::set_buffer_count</a></div><div class="ttdeci">int(* set_buffer_count)(struct preview_stream_ops *w, int count)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00080">camera.h:80</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a98787866b3170541e5f957701ca939cd"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a98787866b3170541e5f957701ca939cd">camera_device_ops::set_preview_window</a></div><div class="ttdeci">int(* set_preview_window)(struct camera_device *, struct preview_stream_ops *window)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00101">camera.h:101</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a6151ab1fcfb36d1b3c6b395b354fdb98"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6151ab1fcfb36d1b3c6b395b354fdb98">camera_device_ops::send_command</a></div><div class="ttdeci">int(* send_command)(struct camera_device *, int32_t cmd, int32_t arg1, int32_t arg2)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00270">camera.h:270</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_af16356410ebad1310b874309ee95fb46"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#af16356410ebad1310b874309ee95fb46">camera_device_ops::cancel_picture</a></div><div class="ttdeci">int(* cancel_picture)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00246">camera.h:246</a></div></div>
<div class="ttc" id="structcamera__memory_html_a81011b79683fab64ce3aff71114f8fdd"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__memory.html#a81011b79683fab64ce3aff71114f8fdd">camera_memory::handle</a></div><div class="ttdeci">void * handle</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00050">camera.h:50</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a685431e04eaa6a2811aec44e8c637a59"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a685431e04eaa6a2811aec44e8c637a59">camera_device_ops::take_picture</a></div><div class="ttdeci">int(* take_picture)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00240">camera.h:240</a></div></div>
<div class="ttc" id="camera_8h_html_a7d1c7cd6fd04752518c66b1c5c1107b7"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a7d1c7cd6fd04752518c66b1c5c1107b7">camera_request_memory</a></div><div class="ttdeci">camera_memory_t *(* camera_request_memory)(int fd, size_t buf_size, unsigned int num_bufs, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00054">camera.h:54</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a4c7ab7efa632bd4c15a289dbc427652c"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a4c7ab7efa632bd4c15a289dbc427652c">camera_device_ops::stop_recording</a></div><div class="ttdeci">void(* stop_recording)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00203">camera.h:203</a></div></div>
<div class="ttc" id="structcamera__device__ops_html"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html">camera_device_ops</a></div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00099">camera.h:99</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a4d36c0cf8eda04e4755e8013d5bdee2e"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a4d36c0cf8eda04e4755e8013d5bdee2e">preview_stream_ops::cancel_buffer</a></div><div class="ttdeci">int(* cancel_buffer)(struct preview_stream_ops *w, buffer_handle_t *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00078">camera.h:78</a></div></div>
<div class="ttc" id="camera_8h_html_ac3dda46741916ef11a0a504d63f4580a"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#ac3dda46741916ef11a0a504d63f4580a">camera_notify_callback</a></div><div class="ttdeci">void(* camera_notify_callback)(int32_t msg_type, int32_t ext1, int32_t ext2, void *user)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00057">camera.h:57</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a948ddc3341ec9f9075d548565b5fc0b5"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a948ddc3341ec9f9075d548565b5fc0b5">preview_stream_ops::lock_buffer</a></div><div class="ttdeci">int(* lock_buffer)(struct preview_stream_ops *w, buffer_handle_t *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00089">camera.h:89</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a254ca689a3230d9f8b01392b6c9b41e3"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a254ca689a3230d9f8b01392b6c9b41e3">camera_device_ops::dump</a></div><div class="ttdeci">int(* dump)(struct camera_device *, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00282">camera.h:282</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a96b33a47608eac0dfb531720ebe98444"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a96b33a47608eac0dfb531720ebe98444">camera_device_ops::start_recording</a></div><div class="ttdeci">int(* start_recording)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00198">camera.h:198</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_ab4edb6977fe037a6179baf66e90abf8d"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#ab4edb6977fe037a6179baf66e90abf8d">camera_device_ops::msg_type_enabled</a></div><div class="ttdeci">int(* msg_type_enabled)(struct camera_device *, int32_t msg_type)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00139">camera.h:139</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a1835806683077942826deb959f5895be"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a1835806683077942826deb959f5895be">camera_device_ops::enable_msg_type</a></div><div class="ttdeci">void(* enable_msg_type)(struct camera_device *, int32_t msg_type)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00120">camera.h:120</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a6f6feb78089de5e6ba26edd411cc00b3"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a6f6feb78089de5e6ba26edd411cc00b3">camera_device_ops::start_preview</a></div><div class="ttdeci">int(* start_preview)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00144">camera.h:144</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_a7356499aebf70e023b2b4eb36ebe0190"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a7356499aebf70e023b2b4eb36ebe0190">camera_device_ops::auto_focus</a></div><div class="ttdeci">int(* auto_focus)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00227">camera.h:227</a></div></div>
<div class="ttc" id="structpreview__stream__ops_html_a84567d722e86dfe00bd46db3704d15f6"><div class="ttname"><a href="https://source.android.com/devices/halref/structpreview__stream__ops.html#a84567d722e86dfe00bd46db3704d15f6">preview_stream_ops::set_usage</a></div><div class="ttdeci">int(* set_usage)(struct preview_stream_ops *w, int usage)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00085">camera.h:85</a></div></div>
<div class="ttc" id="structcamera__device_html_a75bb16f553e7a3642d7d16e229a1d90d"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device.html#a75bb16f553e7a3642d7d16e229a1d90d">camera_device::common</a></div><div class="ttdeci">hw_device_t common</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00291">camera.h:291</a></div></div>
<div class="ttc" id="camera_8h_html_a9a5bdb39b59dbb718da072ec5a25d934"><div class="ttname"><a href="https://source.android.com/devices/halref/camera_8h.html#a9a5bdb39b59dbb718da072ec5a25d934">camera_device_ops_t</a></div><div class="ttdeci">struct camera_device_ops camera_device_ops_t</div></div>
<div class="ttc" id="structcamera__device__ops_html_a5ba55542ca72ffb926149712b487a9df"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#a5ba55542ca72ffb926149712b487a9df">camera_device_ops::recording_enabled</a></div><div class="ttdeci">int(* recording_enabled)(struct camera_device *)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00208">camera.h:208</a></div></div>
<div class="ttc" id="structcamera__device__ops_html_aa67f63aefad0ed0def94e91058539346"><div class="ttname"><a href="https://source.android.com/devices/halref/structcamera__device__ops.html#aa67f63aefad0ed0def94e91058539346">camera_device_ops::set_parameters</a></div><div class="ttdeci">int(* set_parameters)(struct camera_device *, const char *parms)</div><div class="ttdef"><b>Definition:</b> <a href="camera_8h_source.html#l00252">camera.h:252</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="https://source.android.com/devices/halref/dir_f4316de2dfb04db90651672103de31d6.html">hardware</a></li><li class="navelem"><a class="el" href="https://source.android.com/devices/halref/dir_86044c7f411a47507592ba07f9498427.html">libhardware</a></li><li class="navelem"><a class="el" href="https://source.android.com/devices/halref/dir_8b3e604cec1d4acc2594697d6aa41052.html">include</a></li><li class="navelem"><a class="el" href="dir_6b11132f1a015b03f2670f21bef1d871.html">hardware</a></li><li class="navelem"><a class="el" href="https://source.android.com/devices/halref/camera_8h.html">camera.h</a></li>
    <li class="footer">Generated on Mon Jun 20 2016 18:43:20 for Android Hardware Abstraction Layer by
    <a href="../../index.html">
    <img class="footer" src="../../images/Android_Robot_100.png" alt="Android"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
