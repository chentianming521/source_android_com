<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Android Hardware Abstraction Layer: hardware/libhardware/include/hardware/camera_common.h File Reference</title>
<link href="http://source.android.com/devices/halref/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://www.gstatic.com/external_hosted/source_android_com/sac_doxygen_jquery.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/dynsections.js"></script>
<link href="http://source.android.com/devices/halref/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://source.android.com/devices/halref/resize.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="http://source.android.com/devices/halref/doxygen.css" rel="stylesheet" type="text/css" />
<link href="http://source.android.com/devices/halref/hal_doxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="header">
            <table width=80%>
              <tr>
                <td><a href="http://source.android.com/index.html"><img src="http://source.android.com/assets/images/sac_logo.png" width="123" height="25" alt="Android Developers" /></td>
                <td><a class=toptab href="http://source.android.com/source/index.html">Source</a></td>
                <td><a class=devices href="http://source.android.com/devices/index.html">Devices</a></td>
                <td><a class=toptab href="http://source.android.com/security/index.html">Security</a></td>
                <td><a class=toptab href="http://source.android.com/compatibility/index.html">Compatibility</a></td>
                <td width=20%></td>
              </tr>
            </table>
  </div>
<hr class=light>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('camera__common_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="camera__common_8h.html#nested-classes">Data Structures</a> &#124;
<a href="camera__common_8h.html#define-members">Macros</a> &#124;
<a href="camera__common_8h.html#typedef-members">Typedefs</a> &#124;
<a href="camera__common_8h.html#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">camera_common.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;sys/cdefs.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;cutils/native_handle.h&gt;</code><br/>
<code>#include &lt;system/camera.h&gt;</code><br/>
<code>#include &lt;system/camera_vendor_tags.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="hardware_8h_source.html">hardware/hardware.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gralloc_8h_source.html">hardware/gralloc.h</a>&gt;</code><br/>
</div>
<p><a href="http://source.android.com/devices/halref/camera__common_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html">camera_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__module__callbacks.html">camera_module_callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__module.html">camera_module</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aeef55abafbd2e809ca2e4cff6535ea8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#aeef55abafbd2e809ca2e4cff6535ea8e">CAMERA_HARDWARE_MODULE_ID</a>&#160;&#160;&#160;&quot;camera&quot;</td></tr>
<tr class="separator:aeef55abafbd2e809ca2e4cff6535ea8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed86c01a947bf156f8f33c4ec4f3e8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a8ed86c01a947bf156f8f33c4ec4f3e8f">CAMERA_MODULE_API_VERSION_1_0</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(1, 0)</td></tr>
<tr class="separator:a8ed86c01a947bf156f8f33c4ec4f3e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ccfd3ae3e7941836e5673d402982b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a79ccfd3ae3e7941836e5673d402982b1">CAMERA_MODULE_API_VERSION_2_0</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 0)</td></tr>
<tr class="separator:a79ccfd3ae3e7941836e5673d402982b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04af689f4c1e5d44fb8c7b2e86c1b4ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a04af689f4c1e5d44fb8c7b2e86c1b4ca">CAMERA_MODULE_API_VERSION_2_1</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 1)</td></tr>
<tr class="separator:a04af689f4c1e5d44fb8c7b2e86c1b4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d0ad02c4e1ab83269a3c66476885b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a06d0ad02c4e1ab83269a3c66476885b8">CAMERA_MODULE_API_VERSION_2_2</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 2)</td></tr>
<tr class="separator:a06d0ad02c4e1ab83269a3c66476885b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf018f7f2b8cf1322e9fd5af4677084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#aeaf018f7f2b8cf1322e9fd5af4677084">CAMERA_MODULE_API_VERSION_2_3</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 3)</td></tr>
<tr class="separator:aeaf018f7f2b8cf1322e9fd5af4677084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb89ec6ba8753038c6cb7e9973dc01ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#afb89ec6ba8753038c6cb7e9973dc01ff">CAMERA_MODULE_API_VERSION_2_4</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 4)</td></tr>
<tr class="separator:afb89ec6ba8753038c6cb7e9973dc01ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356025ce5eb48d18393d3c242ebec59c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a356025ce5eb48d18393d3c242ebec59c">CAMERA_MODULE_API_VERSION_CURRENT</a>&#160;&#160;&#160;<a class="el" href="camera__common_8h.html#afb89ec6ba8753038c6cb7e9973dc01ff">CAMERA_MODULE_API_VERSION_2_4</a></td></tr>
<tr class="separator:a356025ce5eb48d18393d3c242ebec59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e839f9d2c91943a9156eccdf5e53ade"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a9e839f9d2c91943a9156eccdf5e53ade">CAMERA_DEVICE_API_VERSION_1_0</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(1, 0)</td></tr>
<tr class="separator:a9e839f9d2c91943a9156eccdf5e53ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1252464ee61e5139568f59fc0fc90c5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a1252464ee61e5139568f59fc0fc90c5f">CAMERA_DEVICE_API_VERSION_2_0</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(2, 0)</td></tr>
<tr class="separator:a1252464ee61e5139568f59fc0fc90c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188175aa339d1d9dc6915045305b6cfd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a188175aa339d1d9dc6915045305b6cfd">CAMERA_DEVICE_API_VERSION_2_1</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(2, 1)</td></tr>
<tr class="separator:a188175aa339d1d9dc6915045305b6cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959495f5079f539a97c431541e1ee7c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a959495f5079f539a97c431541e1ee7c7">CAMERA_DEVICE_API_VERSION_3_0</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 0)</td></tr>
<tr class="separator:a959495f5079f539a97c431541e1ee7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3705e72ce4dc920f505c4265e3777c73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a3705e72ce4dc920f505c4265e3777c73">CAMERA_DEVICE_API_VERSION_3_1</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 1)</td></tr>
<tr class="separator:a3705e72ce4dc920f505c4265e3777c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa5b9964ec08b7f0bb3edaa37fe6844"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#afaa5b9964ec08b7f0bb3edaa37fe6844">CAMERA_DEVICE_API_VERSION_3_2</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 2)</td></tr>
<tr class="separator:afaa5b9964ec08b7f0bb3edaa37fe6844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab2b4b06d11ee4a2eb61bab5eaf4e6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#acab2b4b06d11ee4a2eb61bab5eaf4e6d">CAMERA_DEVICE_API_VERSION_3_3</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 3)</td></tr>
<tr class="separator:acab2b4b06d11ee4a2eb61bab5eaf4e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94d85bb184b5d62edb3dd4fcb877a0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#ab94d85bb184b5d62edb3dd4fcb877a0e">CAMERA_DEVICE_API_VERSION_3_4</a>&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 4)</td></tr>
<tr class="separator:ab94d85bb184b5d62edb3dd4fcb877a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba8999322b890fb7fad30c2599d70ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#acba8999322b890fb7fad30c2599d70ae">CAMERA_DEVICE_API_VERSION_CURRENT</a>&#160;&#160;&#160;<a class="el" href="camera__common_8h.html#ab94d85bb184b5d62edb3dd4fcb877a0e">CAMERA_DEVICE_API_VERSION_3_4</a></td></tr>
<tr class="separator:acba8999322b890fb7fad30c2599d70ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a650c3d4440786f728ec509ceb6e7a56c"><td class="memItemLeft" align="right" valign="top">typedef struct camera_metadata&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a650c3d4440786f728ec509ceb6e7a56c">camera_metadata_t</a></td></tr>
<tr class="separator:a650c3d4440786f728ec509ceb6e7a56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374ab563e0148035eb4e7e8bf8cd44f0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcamera__info.html">camera_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a374ab563e0148035eb4e7e8bf8cd44f0">camera_info_t</a></td></tr>
<tr class="separator:a374ab563e0148035eb4e7e8bf8cd44f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c675fe883a74e75ef1167e67d2e36a0"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930ed">camera_device_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a2c675fe883a74e75ef1167e67d2e36a0">camera_device_status_t</a></td></tr>
<tr class="separator:a2c675fe883a74e75ef1167e67d2e36a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3767bd8605b205613a1dccd029cf822"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48c">torch_mode_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#af3767bd8605b205613a1dccd029cf822">torch_mode_status_t</a></td></tr>
<tr class="separator:af3767bd8605b205613a1dccd029cf822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352967178597fc3e8209fe4d0680597f"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structcamera__module__callbacks.html">camera_module_callbacks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a352967178597fc3e8209fe4d0680597f">camera_module_callbacks_t</a></td></tr>
<tr class="separator:a352967178597fc3e8209fe4d0680597f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c4c1b41da242eebf84eccaba8db828"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcamera__module.html">camera_module</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a62c4c1b41da242eebf84eccaba8db828">camera_module_t</a></td></tr>
<tr class="separator:a62c4c1b41da242eebf84eccaba8db828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad3cece1517abd2e8c53b7fe90fd930ed"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930ed">camera_device_status</a> { <a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930edaed119af36d1f8bbff2fd5d5f6ada45f5">CAMERA_DEVICE_STATUS_NOT_PRESENT</a> = 0, 
<a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930eda0d9da14a13a641064f5dca74f48e57ec">CAMERA_DEVICE_STATUS_PRESENT</a> = 1, 
<a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930edaacbec65ebe9c3ecbc4259233c3fffdc7">CAMERA_DEVICE_STATUS_ENUMERATING</a> = 2
 }</td></tr>
<tr class="separator:ad3cece1517abd2e8c53b7fe90fd930ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c52440fdd9fd414dc9b05fe80cef48c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48c">torch_mode_status</a> { <a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48ca9144ecd28642359a8d34cc737daff698">TORCH_MODE_STATUS_NOT_AVAILABLE</a> = 0, 
<a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48ca583a6d7c2c9c36feafdb4f704b40a917">TORCH_MODE_STATUS_AVAILABLE_OFF</a> = 1, 
<a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48caec9f0201358fb7dc617bfe44dac83cc7">TORCH_MODE_STATUS_AVAILABLE_ON</a> = 2
 }</td></tr>
<tr class="separator:a7c52440fdd9fd414dc9b05fe80cef48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9e839f9d2c91943a9156eccdf5e53ade"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_1_0&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(1, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>All device versions &lt;= <a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION(1, 0xFF)</a> must be treated as CAMERA_DEVICE_API_VERSION_1_0 </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00143">143</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1252464ee61e5139568f59fc0fc90c5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_2_0&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(2, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00144">144</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a188175aa339d1d9dc6915045305b6cfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_2_1&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(2, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00145">145</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a959495f5079f539a97c431541e1ee7c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_3_0&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00146">146</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3705e72ce4dc920f505c4265e3777c73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_3_1&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00147">147</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="afaa5b9964ec08b7f0bb3edaa37fe6844"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_3_2&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00148">148</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="acab2b4b06d11ee4a2eb61bab5eaf4e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_3_3&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00149">149</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab94d85bb184b5d62edb3dd4fcb877a0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_3_4&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a9b6afbf0b5d5646293f8f0ea9236661d">HARDWARE_DEVICE_API_VERSION</a>(3, 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00150">150</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="acba8999322b890fb7fad30c2599d70ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_DEVICE_API_VERSION_CURRENT&#160;&#160;&#160;<a class="el" href="camera__common_8h.html#ab94d85bb184b5d62edb3dd4fcb877a0e">CAMERA_DEVICE_API_VERSION_3_4</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00154">154</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeef55abafbd2e809ca2e4cff6535ea8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_HARDWARE_MODULE_ID&#160;&#160;&#160;&quot;camera&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The id of this module </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00037">37</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8ed86c01a947bf156f8f33c4ec4f3e8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_1_0&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(1, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Module versioning information for the Camera hardware module, based on camera_module_t.common.module_api_version. The two most significant hex digits represent the major version, and the two least significant represent the minor version.</p>
<p>Versions: 0.X - 1.X [CAMERA_MODULE_API_VERSION_1_0]</p>
<p>Camera modules that report these version numbers implement the initial camera module HAL interface. All camera devices openable through this module support only version 1 of the camera device HAL. The device_version and static_camera_characteristics fields of <a class="el" href="structcamera__info.html">camera_info</a> are not valid. Only the android.hardware.Camera API can be supported by this module and its devices.</p>
<p>Version: 2.0 [CAMERA_MODULE_API_VERSION_2_0]</p>
<p>Camera modules that report this version number implement the second version of the camera module HAL interface. Camera devices openable through this module may support either version 1.0 or version 2.0 of the camera device HAL interface. The device_version field of <a class="el" href="structcamera__info.html">camera_info</a> is always valid; the static_camera_characteristics field of <a class="el" href="structcamera__info.html">camera_info</a> is valid if the device_version field is 2.0 or higher.</p>
<p>Version: 2.1 [CAMERA_MODULE_API_VERSION_2_1]</p>
<p>This camera module version adds support for asynchronous callbacks to the framework from the camera HAL module, which is used to notify the framework about changes to the camera module state. Modules that provide a valid set_callbacks() method must report at least this version number.</p>
<p>Version: 2.2 [CAMERA_MODULE_API_VERSION_2_2]</p>
<p>This camera module version adds vendor tag support from the module, and deprecates the old vendor_tag_query_ops that were previously only accessible with a device open.</p>
<p>Version: 2.3 [CAMERA_MODULE_API_VERSION_2_3]</p>
<p>This camera module version adds open legacy camera HAL device support. Framework can use it to open the camera device as lower device HAL version HAL device if the same device can support multiple device API versions. The standard hardware module open call (common.methods-&gt;open) continues to open the camera device with the latest supported version, which is also the version listed in <a class="el" href="structcamera__info.html#a9288ee4ca0f5030aa044d4ce748d7151">camera_info_t.device_version</a>.</p>
<p>Version: 2.4 [CAMERA_MODULE_API_VERSION_2_4]</p>
<p>This camera module version adds below API changes:</p>
<ol type="1">
<li>Torch mode support. The framework can use it to turn on torch mode for any camera device that has a flash unit, without opening a camera device. The camera device has a higher priority accessing the flash unit than the camera module; opening a camera device will turn off the torch if it had been enabled through the module interface. When there are any resource conflicts, such as open() is called to open a camera device, the camera HAL module must notify the framework through the torch mode status callback that the torch mode has been turned off.</li>
<li>External camera (e.g. USB hot-plug camera) support. The API updates specify that the camera static info is only available when camera is connected and ready to use for external hot-plug cameras. Calls to get static info will be invalid calls when camera status is not CAMERA_DEVICE_STATUS_PRESENT. The frameworks will only count on device status change callbacks to manage the available external camera list.</li>
<li>Camera arbitration hints. This module version adds support for explicitly indicating the number of camera devices that can be simultaneously opened and used. To specify valid combinations of devices, the resource_cost and conflicting_devices fields should always be set in the <a class="el" href="structcamera__info.html">camera_info</a> structure returned by the get_camera_info call.</li>
<li>Module initialization method. This will be called by the camera service right after the HAL module is loaded, to allow for one-time initialization of the HAL. It is called before any other module methods are invoked. Predefined macros for currently-defined version numbers All module versions &lt;= <a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION(1, 0xFF)</a> must be treated as CAMERA_MODULE_API_VERSION_1_0 </li>
</ol>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00130">130</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a79ccfd3ae3e7941836e5673d402982b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_2_0&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00131">131</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a04af689f4c1e5d44fb8c7b2e86c1b4ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_2_1&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00132">132</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06d0ad02c4e1ab83269a3c66476885b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_2_2&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00133">133</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeaf018f7f2b8cf1322e9fd5af4677084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_2_3&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00134">134</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb89ec6ba8753038c6cb7e9973dc01ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_2_4&#160;&#160;&#160;<a class="el" href="hardware_8h.html#a63da7e839f5673d40c1408c506e87080">HARDWARE_MODULE_API_VERSION</a>(2, 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00135">135</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a356025ce5eb48d18393d3c242ebec59c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MODULE_API_VERSION_CURRENT&#160;&#160;&#160;<a class="el" href="camera__common_8h.html#afb89ec6ba8753038c6cb7e9973dc01ff">CAMERA_MODULE_API_VERSION_2_4</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00137">137</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2c675fe883a74e75ef1167e67d2e36a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930ed">camera_device_status</a>  <a class="el" href="camera__common_8h.html#a2c675fe883a74e75ef1167e67d2e36a0">camera_device_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>camera_device_status_t:</p>
<p>The current status of the camera device, as provided by the HAL through the <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks.camera_device_status_change()</a> call.</p>
<p>At module load time, the framework will assume all camera devices are in the CAMERA_DEVICE_STATUS_PRESENT state. The HAL should invoke <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change</a> to inform the framework of any initially NOT_PRESENT devices.</p>
<p>Allowed transitions: PRESENT -&gt; NOT_PRESENT NOT_PRESENT -&gt; ENUMERATING NOT_PRESENT -&gt; PRESENT ENUMERATING -&gt; PRESENT ENUMERATING -&gt; NOT_PRESENT </p>

</div>
</div>
<a class="anchor" id="a374ab563e0148035eb4e7e8bf8cd44f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera__info.html">camera_info</a>  <a class="el" href="camera__common_8h.html#a374ab563e0148035eb4e7e8bf8cd44f0">camera_info_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a650c3d4440786f728ec509ceb6e7a56c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct camera_metadata <a class="el" href="camera__common_8h.html#a650c3d4440786f728ec509ceb6e7a56c">camera_metadata_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined in /system/media/camera/include/system/camera_metadata.h </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00159">159</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a352967178597fc3e8209fe4d0680597f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera__module__callbacks.html">camera_module_callbacks</a>  <a class="el" href="camera__common_8h.html#a352967178597fc3e8209fe4d0680597f">camera_module_callbacks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback functions for the camera HAL module to use to inform the framework of changes to the camera subsystem.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>Each callback is called only by HAL modules implementing the indicated version or higher of the HAL module API interface.</p>
<p>CAMERA_MODULE_API_VERSION_2_1: camera_device_status_change()</p>
<p>CAMERA_MODULE_API_VERSION_2_4: torch_mode_status_change() </p>

</div>
</div>
<a class="anchor" id="a62c4c1b41da242eebf84eccaba8db828"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera__module.html">camera_module</a>  <a class="el" href="camera__common_8h.html#a62c4c1b41da242eebf84eccaba8db828">camera_module_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af3767bd8605b205613a1dccd029cf822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48c">torch_mode_status</a>  <a class="el" href="camera__common_8h.html#af3767bd8605b205613a1dccd029cf822">torch_mode_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>torch_mode_status_t:</p>
<p>The current status of the torch mode, as provided by the HAL through the <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks.torch_mode_status_change()</a> call.</p>
<p>The torch mode status of a camera device is applicable only when the camera device is present. The framework will not call set_torch_mode() to turn on torch mode of a camera device if the camera device is not present. At module load time, the framework will assume torch modes are in the TORCH_MODE_STATUS_AVAILABLE_OFF state if the camera device is present and android.flash.info.available is reported as true via get_camera_info() call.</p>
<p>The behaviors of the camera HAL module that the framework expects in the following situations when a camera device's status changes:</p>
<ol type="1">
<li>A previously-disconnected camera device becomes connected. After <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change()</a> is invoked to inform the framework that the camera device is present, the framework will assume the camera device's torch mode is in TORCH_MODE_STATUS_AVAILABLE_OFF state. The camera HAL module does not need to invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> unless the flash unit is unavailable to use by set_torch_mode().</li>
<li>A previously-connected camera becomes disconnected. After <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change()</a> is invoked to inform the framework that the camera device is not present, the framework will not call set_torch_mode() for the disconnected camera device until its flash unit becomes available again. The camera HAL module does not need to invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> separately to inform that the flash unit has become unavailable.</li>
<li>open() is called to open a camera device. The camera HAL module must invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> for all flash units that have entered TORCH_MODE_STATUS_NOT_AVAILABLE state and can not be turned on by calling set_torch_mode() anymore due to this open() call. open() must not trigger TORCH_MODE_STATUS_AVAILABLE_OFF before TORCH_MODE_STATUS_NOT_AVAILABLE for all flash units that have become unavailable.</li>
<li>close() is called to close a camera device. The camera HAL module must invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> for all flash units that have entered TORCH_MODE_STATUS_AVAILABLE_OFF state and can be turned on by calling set_torch_mode() again because of enough resources freed up by this close() call.</li>
</ol>
<p>Note that the framework calling set_torch_mode() successfully must trigger TORCH_MODE_STATUS_AVAILABLE_OFF or TORCH_MODE_STATUS_AVAILABLE_ON callback for the given camera device. Additionally it must trigger TORCH_MODE_STATUS_AVAILABLE_OFF callbacks for other previously-on torch modes if HAL cannot keep multiple torch modes on simultaneously. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ad3cece1517abd2e8c53b7fe90fd930ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="camera__common_8h.html#ad3cece1517abd2e8c53b7fe90fd930ed">camera_device_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>camera_device_status_t:</p>
<p>The current status of the camera device, as provided by the HAL through the <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks.camera_device_status_change()</a> call.</p>
<p>At module load time, the framework will assume all camera devices are in the CAMERA_DEVICE_STATUS_PRESENT state. The HAL should invoke <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change</a> to inform the framework of any initially NOT_PRESENT devices.</p>
<p>Allowed transitions: PRESENT -&gt; NOT_PRESENT NOT_PRESENT -&gt; ENUMERATING NOT_PRESENT -&gt; PRESENT ENUMERATING -&gt; PRESENT ENUMERATING -&gt; NOT_PRESENT </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ad3cece1517abd2e8c53b7fe90fd930edaed119af36d1f8bbff2fd5d5f6ada45f5"></a>CAMERA_DEVICE_STATUS_NOT_PRESENT</em>&#160;</td><td class="fielddoc">
<p>The camera device is not currently connected, and opening it will return failure.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Calls to get_camera_info must still succeed, and provide the same information it would if the camera were connected.</p>
<p>CAMERA_MODULE_API_VERSION_2_4:</p>
<p>The camera device at this status must return -EINVAL for get_camera_info call, as the device is not connected. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ad3cece1517abd2e8c53b7fe90fd930eda0d9da14a13a641064f5dca74f48e57ec"></a>CAMERA_DEVICE_STATUS_PRESENT</em>&#160;</td><td class="fielddoc">
<p>The camera device is connected, and opening it will succeed.</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>The information returned by get_camera_info cannot change due to this status change. By default, the framework will assume all devices are in this state.</p>
<p>CAMERA_MODULE_API_VERSION_2_4:</p>
<p>The information returned by get_camera_info will become valid after a device's status changes to this. By default, the framework will assume all devices are in this state. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ad3cece1517abd2e8c53b7fe90fd930edaacbec65ebe9c3ecbc4259233c3fffdc7"></a>CAMERA_DEVICE_STATUS_ENUMERATING</em>&#160;</td><td class="fielddoc">
<p>The camera device is connected, but it is undergoing an enumeration and so opening the device will return -EBUSY.</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Calls to get_camera_info must still succeed, as if the camera was in the PRESENT status.</p>
<p>CAMERA_MODULE_API_VERSION_2_4:</p>
<p>The camera device at this status must return -EINVAL for get_camera_info for call, as the device is not ready. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00441">441</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7c52440fdd9fd414dc9b05fe80cef48c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="camera__common_8h.html#a7c52440fdd9fd414dc9b05fe80cef48c">torch_mode_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>torch_mode_status_t:</p>
<p>The current status of the torch mode, as provided by the HAL through the <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks.torch_mode_status_change()</a> call.</p>
<p>The torch mode status of a camera device is applicable only when the camera device is present. The framework will not call set_torch_mode() to turn on torch mode of a camera device if the camera device is not present. At module load time, the framework will assume torch modes are in the TORCH_MODE_STATUS_AVAILABLE_OFF state if the camera device is present and android.flash.info.available is reported as true via get_camera_info() call.</p>
<p>The behaviors of the camera HAL module that the framework expects in the following situations when a camera device's status changes:</p>
<ol type="1">
<li>A previously-disconnected camera device becomes connected. After <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change()</a> is invoked to inform the framework that the camera device is present, the framework will assume the camera device's torch mode is in TORCH_MODE_STATUS_AVAILABLE_OFF state. The camera HAL module does not need to invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> unless the flash unit is unavailable to use by set_torch_mode().</li>
<li>A previously-connected camera becomes disconnected. After <a class="el" href="structcamera__module__callbacks.html#a79f12aab43e5c0ca75b127718f3144cf">camera_module_callbacks::camera_device_status_change()</a> is invoked to inform the framework that the camera device is not present, the framework will not call set_torch_mode() for the disconnected camera device until its flash unit becomes available again. The camera HAL module does not need to invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> separately to inform that the flash unit has become unavailable.</li>
<li>open() is called to open a camera device. The camera HAL module must invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> for all flash units that have entered TORCH_MODE_STATUS_NOT_AVAILABLE state and can not be turned on by calling set_torch_mode() anymore due to this open() call. open() must not trigger TORCH_MODE_STATUS_AVAILABLE_OFF before TORCH_MODE_STATUS_NOT_AVAILABLE for all flash units that have become unavailable.</li>
<li>close() is called to close a camera device. The camera HAL module must invoke <a class="el" href="structcamera__module__callbacks.html#a70479d8b007a3a6b441437a3e584b2af">camera_module_callbacks::torch_mode_status_change()</a> for all flash units that have entered TORCH_MODE_STATUS_AVAILABLE_OFF state and can be turned on by calling set_torch_mode() again because of enough resources freed up by this close() call.</li>
</ol>
<p>Note that the framework calling set_torch_mode() successfully must trigger TORCH_MODE_STATUS_AVAILABLE_OFF or TORCH_MODE_STATUS_AVAILABLE_ON callback for the given camera device. Additionally it must trigger TORCH_MODE_STATUS_AVAILABLE_OFF callbacks for other previously-on torch modes if HAL cannot keep multiple torch modes on simultaneously. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7c52440fdd9fd414dc9b05fe80cef48ca9144ecd28642359a8d34cc737daff698"></a>TORCH_MODE_STATUS_NOT_AVAILABLE</em>&#160;</td><td class="fielddoc">
<p>The flash unit is no longer available and the torch mode can not be turned on by calling set_torch_mode(). If the torch mode is on, it will be turned off by HAL before HAL calls torch_mode_status_change(). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7c52440fdd9fd414dc9b05fe80cef48ca583a6d7c2c9c36feafdb4f704b40a917"></a>TORCH_MODE_STATUS_AVAILABLE_OFF</em>&#160;</td><td class="fielddoc">
<p>A torch mode has become off and available to be turned on via set_torch_mode(). This may happen in the following cases:</p>
<ol type="1">
<li>After the resources to turn on the torch mode have become available.</li>
<li>After set_torch_mode() is called to turn off the torch mode.</li>
<li>After the framework turned on the torch mode of some other camera device and HAL had to turn off the torch modes of any camera devices that were previously on. </li>
</ol>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7c52440fdd9fd414dc9b05fe80cef48caec9f0201358fb7dc617bfe44dac83cc7"></a>TORCH_MODE_STATUS_AVAILABLE_ON</em>&#160;</td><td class="fielddoc">
<p>A torch mode has become on and available to be turned off via set_torch_mode(). This can happen only after set_torch_mode() is called to turn on the torch mode. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00548">548</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f4316de2dfb04db90651672103de31d6.html">hardware</a></li><li class="navelem"><a class="el" href="dir_86044c7f411a47507592ba07f9498427.html">libhardware</a></li><li class="navelem"><a class="el" href="dir_8b3e604cec1d4acc2594697d6aa41052.html">include</a></li><li class="navelem"><a class="el" href="http://source.android.com/devices/halref/dir_6b11132f1a015b03f2670f21bef1d871.html">hardware</a></li><li class="navelem"><a class="el" href="camera__common_8h.html">camera_common.h</a></li>
    <li class="footer">Generated on Mon Jun 20 2016 18:43:21 for Android Hardware Abstraction Layer by
    <a href="http://source.android.com/index.html">
    <img class="footer" src="http://source.android.com/images/Android_Robot_100.png" alt="Android"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
