<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Android Hardware Abstraction Layer: hardware/libhardware/include/hardware/camera2.h File Reference</title>
<link href="http://source.android.com/devices/halref/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://www.gstatic.com/external_hosted/source_android_com/sac_doxygen_jquery.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/dynsections.js"></script>
<link href="http://source.android.com/devices/halref/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://source.android.com/devices/halref/resize.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="http://source.android.com/devices/halref/doxygen.css" rel="stylesheet" type="text/css" />
<link href="http://source.android.com/devices/halref/hal_doxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="header">
            <table width=80%>
              <tr>
                <td><a href="http://source.android.com/index.html"><img src="http://source.android.com/assets/images/sac_logo.png" width="123" height="25" alt="Android Developers" /></td>
                <td><a class=toptab href="http://source.android.com/source/index.html">Source</a></td>
                <td><a class=devices href="http://source.android.com/devices/index.html">Devices</a></td>
                <td><a class=toptab href="http://source.android.com/security/index.html">Security</a></td>
                <td><a class=toptab href="http://source.android.com/compatibility/index.html">Compatibility</a></td>
                <td width=20%></td>
              </tr>
            </table>
  </div>
<hr class=light>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('camera2_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="camera2_8h.html#nested-classes">Data Structures</a> &#124;
<a href="camera2_8h.html#typedef-members">Typedefs</a> &#124;
<a href="camera2_8h.html#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">camera2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>&quot;</code><br/>
<code>#include &quot;system/camera_metadata.h&quot;</code><br/>
</div>
<p><a href="camera2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__stream__ops.html">camera2_stream_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__jpeg__blob.html">camera2_jpeg_blob</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__stream__in__ops.html">camera2_stream_in_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__request__queue__src__ops.html">camera2_request_queue_src_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__frame__queue__dst__ops.html">camera2_frame_queue_dst_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__device__ops.html">camera2_device_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera2__device.html">camera2_device</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a536cc194f0c1d12b496ba215a8b1129c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcamera2__stream__ops.html">camera2_stream_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#a536cc194f0c1d12b496ba215a8b1129c">camera2_stream_ops_t</a></td></tr>
<tr class="separator:a536cc194f0c1d12b496ba215a8b1129c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4167e086eaf5b1800208e0cd1a6e70dd"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structcamera2__stream__in__ops.html">camera2_stream_in_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#a4167e086eaf5b1800208e0cd1a6e70dd">camera2_stream_in_ops_t</a></td></tr>
<tr class="separator:a4167e086eaf5b1800208e0cd1a6e70dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d643d8d946a5470f55d27e5a243b90"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structcamera2__request__queue__src__ops.html">camera2_request_queue_src_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#a54d643d8d946a5470f55d27e5a243b90">camera2_request_queue_src_ops_t</a></td></tr>
<tr class="separator:a54d643d8d946a5470f55d27e5a243b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b53e7009c0a62dc0a114d5e5be7c7a"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structcamera2__frame__queue__dst__ops.html">camera2_frame_queue_dst_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#ae4b53e7009c0a62dc0a114d5e5be7c7a">camera2_frame_queue_dst_ops_t</a></td></tr>
<tr class="separator:ae4b53e7009c0a62dc0a114d5e5be7c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692027d5ba583aa9e1cee75e98a0be11"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#a692027d5ba583aa9e1cee75e98a0be11">camera2_notify_callback</a> )(int32_t msg_type, int32_t ext1, int32_t ext2, int32_t ext3, void *user)</td></tr>
<tr class="separator:a692027d5ba583aa9e1cee75e98a0be11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45cb312fc112edab61eaa67d969ee024"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcamera2__device__ops.html">camera2_device_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#a45cb312fc112edab61eaa67d969ee024">camera2_device_ops_t</a></td></tr>
<tr class="separator:a45cb312fc112edab61eaa67d969ee024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc5b406dde9dbf0f8aedc16dd676f78"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcamera2__device.html">camera2_device</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="camera2_8h.html#aacc5b406dde9dbf0f8aedc16dd676f78">camera2_device_t</a></td></tr>
<tr class="separator:aacc5b406dde9dbf0f8aedc16dd676f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abc6126af1d45847bc59afa0aa3216b04"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="camera2_8h.html#abc6126af1d45847bc59afa0aa3216b04af186c8fa0234470c3d19ac1922604a01">CAMERA2_HAL_PIXEL_FORMAT_OPAQUE</a> = HAL_PIXEL_FORMAT_IMPLEMENTATION_DEFINED, 
<a class="el" href="camera2_8h.html#abc6126af1d45847bc59afa0aa3216b04a04fdc4d46e83865964c503cd61f70d96">CAMERA2_HAL_PIXEL_FORMAT_ZSL</a> = -1
 }</td></tr>
<tr class="separator:abc6126af1d45847bc59afa0aa3216b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc29c2ff13d900c2f185ee95427fb06c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="camera2_8h.html#adc29c2ff13d900c2f185ee95427fb06ca99012d0b189978471eface30a52cefda">CAMERA2_JPEG_BLOB_ID</a> = 0x00FF
 }</td></tr>
<tr class="separator:adc29c2ff13d900c2f185ee95427fb06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dadd085c1777f559549e05962b2c9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="camera2_8h.html#a61dadd085c1777f559549e05962b2c9ea3d1249ba814772abb34ebcc2f0686c30">CAMERA2_REQUEST_QUEUE_IS_BOTTOMLESS</a> = -1
 }</td></tr>
<tr class="separator:a61dadd085c1777f559549e05962b2c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726ca809ffd3d67ab4b8476646f26635"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="camera2_8h.html#a726ca809ffd3d67ab4b8476646f26635adef33001f4c550d7a41cbb98d972b1b8">CAMERA2_MSG_ERROR</a> = 0x0001, 
<a class="el" href="camera2_8h.html#a726ca809ffd3d67ab4b8476646f26635aabf56f9ee4634385a22fdec8ea32cc89">CAMERA2_MSG_SHUTTER</a> = 0x0010, 
<a class="el" href="camera2_8h.html#a726ca809ffd3d67ab4b8476646f26635af78a969314a11a8db00e13484cfc36f8">CAMERA2_MSG_AUTOFOCUS</a> = 0x0020, 
<a class="el" href="camera2_8h.html#a726ca809ffd3d67ab4b8476646f26635a1a6b77058f82e3e204881366ae2ee71e">CAMERA2_MSG_AUTOEXPOSURE</a> = 0x0021, 
<br/>
&#160;&#160;<a class="el" href="camera2_8h.html#a726ca809ffd3d67ab4b8476646f26635aec2d9d8e1065a5bf4b4534e88fe1c7b3">CAMERA2_MSG_AUTOWB</a> = 0x0022
<br/>
 }</td></tr>
<tr class="separator:a726ca809ffd3d67ab4b8476646f26635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0411cd49bb5b71852cecd93bcbf0ca2d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2da05d0bca66aae8362ca32b6c770b121ad">CAMERA2_MSG_ERROR_HARDWARE</a> = 0x0001, 
<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2da035e9e2fefb5e4ca117b9697d47c5e52">CAMERA2_MSG_ERROR_DEVICE</a>, 
<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2da802de3ea082c77a2fe62641031638fdd">CAMERA2_MSG_ERROR_REQUEST</a>, 
<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2da4afe12e872c451b5ec1d508fff477cd6">CAMERA2_MSG_ERROR_FRAME</a>, 
<br/>
&#160;&#160;<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2dad3858bede0b33cc3c1acacee6d0a782e">CAMERA2_MSG_ERROR_STREAM</a>, 
<a class="el" href="camera2_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2da576b3b4025ad4722994c8fb56f5820c5">CAMERA2_MSG_NUM_ERRORS</a>
<br/>
 }</td></tr>
<tr class="separator:a0411cd49bb5b71852cecd93bcbf0ca2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed82baf7f470b522273a3e37c24c600"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="camera2_8h.html#abed82baf7f470b522273a3e37c24c600afdf85ba32b57dbf95f9fb466be643d63">CAMERA2_TRIGGER_AUTOFOCUS</a> = 0x0001, 
<a class="el" href="camera2_8h.html#abed82baf7f470b522273a3e37c24c600a89301229ba1cd5f124dde3197e644db4">CAMERA2_TRIGGER_CANCEL_AUTOFOCUS</a>, 
<a class="el" href="camera2_8h.html#abed82baf7f470b522273a3e37c24c600a758eca0b5f52aeb742a67dc38104329d">CAMERA2_TRIGGER_PRECAPTURE_METERING</a>
 }</td></tr>
<tr class="separator:abed82baf7f470b522273a3e37c24c600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04a0655cd1e3bcac5e8f48c18df1a57"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a00dcdb33f9315a906d8b075ad7ff4bf6">CAMERA2_TEMPLATE_PREVIEW</a> = 1, 
<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57ad7e74e006ce98a03cfbfcea88d2d7663">CAMERA2_TEMPLATE_STILL_CAPTURE</a>, 
<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a15126fa0fa0870769982406371be7703">CAMERA2_TEMPLATE_VIDEO_RECORD</a>, 
<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57aaa36157a7a09543e8fcf8bd506dd83fe">CAMERA2_TEMPLATE_VIDEO_SNAPSHOT</a>, 
<br/>
&#160;&#160;<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a4a2bfb772d5a468408193b7c02dd0d73">CAMERA2_TEMPLATE_ZERO_SHUTTER_LAG</a>, 
<a class="el" href="camera2_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a8eecd1bd7b90187a10fb86ae20afb332">CAMERA2_TEMPLATE_COUNT</a>
<br/>
 }</td></tr>
<tr class="separator:ab04a0655cd1e3bcac5e8f48c18df1a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a45cb312fc112edab61eaa67d969ee024"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__device__ops.html">camera2_device_ops</a>  <a class="el" href="camera2_8h.html#a45cb312fc112edab61eaa67d969ee024">camera2_device_ops_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aacc5b406dde9dbf0f8aedc16dd676f78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__device.html">camera2_device</a>  <a class="el" href="camera2_8h.html#aacc5b406dde9dbf0f8aedc16dd676f78">camera2_device_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae4b53e7009c0a62dc0a114d5e5be7c7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__frame__queue__dst__ops.html">camera2_frame_queue_dst_ops</a>  <a class="el" href="camera2_8h.html#ae4b53e7009c0a62dc0a114d5e5be7c7a">camera2_frame_queue_dst_ops_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frame output queue protocol:</p>
<p>The framework holds the queue and its contents. At start, the queue is empty.</p>
<ol type="1">
<li>When the device is ready to fill an output metadata frame, it must dequeue a metadata buffer of the required size.</li>
<li>It should then fill the metadata buffer, and place it on the frame queue using enqueue_frame. The framework takes ownership of the frame.</li>
<li>In case of an error, a request to flush the pipeline, or shutdown, the device must return any affected dequeued frames to the framework by calling cancel_frame. </li>
</ol>

</div>
</div>
<a class="anchor" id="a692027d5ba583aa9e1cee75e98a0be11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* camera2_notify_callback)(int32_t msg_type, int32_t ext1, int32_t ext2, int32_t ext3, void *user)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous notification callback from the HAL, fired for various reasons. Only for information independent of frame capture, or that require specific timing. The user pointer must be the same one that was passed to the device in set_notify_callback(). </p>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00301">301</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a54d643d8d946a5470f55d27e5a243b90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__request__queue__src__ops.html">camera2_request_queue_src_ops</a>  <a class="el" href="camera2_8h.html#a54d643d8d946a5470f55d27e5a243b90">camera2_request_queue_src_ops_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request input queue protocol:</p>
<p>The framework holds the queue and its contents. At start, the queue is empty.</p>
<ol type="1">
<li>When the first metadata buffer is placed into the queue, the framework signals the device by calling notify_request_queue_not_empty().</li>
<li>After receiving notify_request_queue_not_empty, the device must call dequeue() once it's ready to handle the next buffer.</li>
<li>Once the device has processed a buffer, and is ready for the next buffer, it must call dequeue() again instead of waiting for a notification. If there are no more buffers available, dequeue() will return NULL. After this point, when a buffer becomes available, the framework must call notify_request_queue_not_empty() again. If the device receives a NULL return from dequeue, it does not need to query the queue again until a notify_request_queue_not_empty() call is received from the source.</li>
<li>If the device calls buffer_count() and receives 0, this does not mean that the framework will provide a notify_request_queue_not_empty() call. The framework will only provide such a notification after the device has received a NULL from dequeue, or on initial startup.</li>
<li>The dequeue() call in response to notify_request_queue_not_empty() may be on the same thread as the notify_request_queue_not_empty() call, and may be performed from within the notify call.</li>
<li>All dequeued request buffers must be returned to the framework by calling free_request, including when errors occur, a device flush is requested, or when the device is shutting down. </li>
</ol>

</div>
</div>
<a class="anchor" id="a4167e086eaf5b1800208e0cd1a6e70dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__stream__in__ops.html">camera2_stream_in_ops</a>  <a class="el" href="camera2_8h.html#a4167e086eaf5b1800208e0cd1a6e70dd">camera2_stream_in_ops_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Input reprocess stream queue management. A set of these methods is provided to the HAL device in allocate_reprocess_stream(); they are used to interact with the reprocess stream's input gralloc buffer queue. </p>

</div>
</div>
<a class="anchor" id="a536cc194f0c1d12b496ba215a8b1129c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcamera2__stream__ops.html">camera2_stream_ops</a>  <a class="el" href="camera2_8h.html#a536cc194f0c1d12b496ba215a8b1129c">camera2_stream_ops_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Output image stream queue interface. A set of these methods is provided to the HAL device in allocate_stream(), and are used to interact with the gralloc buffer queue for that stream. They may not be called until after allocate_stream returns. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="abc6126af1d45847bc59afa0aa3216b04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Temporary definition during transition.</p>
<p>These formats will be removed and replaced with HAL_PIXEL_FORMAT_IMPLEMENTATION_DEFINED. To maximize forward compatibility, HAL implementations are strongly recommended to treat FORMAT_OPAQUE and FORMAT_ZSL as equivalent to HAL_PIXEL_FORMAT_IMPLEMENTATION_DEFINED, and return HAL_PIXEL_FORMAT_IMPLEMENTATION_DEFINED in the format_actual output parameter of allocate_stream, allowing the gralloc module to select the specific format based on the usage flags from the camera and the stream consumer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="abc6126af1d45847bc59afa0aa3216b04af186c8fa0234470c3d19ac1922604a01"></a>CAMERA2_HAL_PIXEL_FORMAT_OPAQUE</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="abc6126af1d45847bc59afa0aa3216b04a04fdc4d46e83865964c503cd61f70d96"></a>CAMERA2_HAL_PIXEL_FORMAT_ZSL</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00125">125</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="adc29c2ff13d900c2f185ee95427fb06c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="adc29c2ff13d900c2f185ee95427fb06ca99012d0b189978471eface30a52cefda"></a>CAMERA2_JPEG_BLOB_ID</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00151">151</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a61dadd085c1777f559549e05962b2c9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea3d1249ba814772abb34ebcc2f0686c30"></a>CAMERA2_REQUEST_QUEUE_IS_BOTTOMLESS</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00184">184</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Possible message types for camera2_notify_callback </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635adef33001f4c550d7a41cbb98d972b1b8"></a>CAMERA2_MSG_ERROR</em>&#160;</td><td class="fielddoc">
<p>An error has occurred. Argument ext1 contains the error code, and ext2 and ext3 contain any error-specific information. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635aabf56f9ee4634385a22fdec8ea32cc89"></a>CAMERA2_MSG_SHUTTER</em>&#160;</td><td class="fielddoc">
<p>The exposure of a given request has begun. Argument ext1 contains the frame number, and ext2 and ext3 contain the low-order and high-order bytes of the timestamp for when exposure began. (timestamp = (ext3 &lt;&lt; 32 | ext2)) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635af78a969314a11a8db00e13484cfc36f8"></a>CAMERA2_MSG_AUTOFOCUS</em>&#160;</td><td class="fielddoc">
<p>The autofocus routine has changed state. Argument ext1 contains the new state; the values are the same as those for the metadata field android.control.afState. Ext2 contains the latest trigger ID passed to trigger_action(CAMERA2_TRIGGER_AUTOFOCUS) or trigger_action(CAMERA2_TRIGGER_CANCEL_AUTOFOCUS), or 0 if trigger has not been called with either of those actions. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635a1a6b77058f82e3e204881366ae2ee71e"></a>CAMERA2_MSG_AUTOEXPOSURE</em>&#160;</td><td class="fielddoc">
<p>The autoexposure routine has changed state. Argument ext1 contains the new state; the values are the same as those for the metadata field android.control.aeState. Ext2 contains the latest trigger ID value passed to trigger_action(CAMERA2_TRIGGER_PRECAPTURE_METERING), or 0 if that method has not been called. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635aec2d9d8e1065a5bf4b4534e88fe1c7b3"></a>CAMERA2_MSG_AUTOWB</em>&#160;</td><td class="fielddoc">
<p>The auto-whitebalance routine has changed state. Argument ext1 contains the new state; the values are the same as those for the metadata field android.control.awbState. Ext2 contains the latest trigger ID passed to trigger_action(CAMERA2_TRIGGER_PRECAPTURE_METERING), or 0 if that method has not been called. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00310">310</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error codes for CAMERA_MSG_ERROR </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2da05d0bca66aae8362ca32b6c770b121ad"></a>CAMERA2_MSG_ERROR_HARDWARE</em>&#160;</td><td class="fielddoc">
<p>A serious failure occured. Camera device may not work without reboot, and no further frames or buffer streams will be produced by the device. Device should be treated as closed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2da035e9e2fefb5e4ca117b9697d47c5e52"></a>CAMERA2_MSG_ERROR_DEVICE</em>&#160;</td><td class="fielddoc">
<p>A serious failure occured. No further frames or buffer streams will be produced by the device. Device should be treated as closed. The client must reopen the device to use it again. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2da802de3ea082c77a2fe62641031638fdd"></a>CAMERA2_MSG_ERROR_REQUEST</em>&#160;</td><td class="fielddoc">
<p>An error has occurred in processing a request. No output (metadata or buffers) will be produced for this request. ext2 contains the frame number of the request. Subsequent requests are unaffected, and the device remains operational. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2da4afe12e872c451b5ec1d508fff477cd6"></a>CAMERA2_MSG_ERROR_FRAME</em>&#160;</td><td class="fielddoc">
<p>An error has occurred in producing an output frame metadata buffer for a request, but image buffers for it will still be available. Subsequent requests are unaffected, and the device remains operational. ext2 contains the frame number of the request. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2dad3858bede0b33cc3c1acacee6d0a782e"></a>CAMERA2_MSG_ERROR_STREAM</em>&#160;</td><td class="fielddoc">
<p>An error has occurred in placing an output buffer into a stream for a request. The frame metadata and other buffers may still be available. Subsequent requests are unaffected, and the device remains operational. ext2 contains the frame number of the request, and ext3 contains the stream id. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0411cd49bb5b71852cecd93bcbf0ca2da576b3b4025ad4722994c8fb56f5820c5"></a>CAMERA2_MSG_NUM_ERRORS</em>&#160;</td><td class="fielddoc">
<p>Number of error types </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00353">353</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="abed82baf7f470b522273a3e37c24c600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Possible trigger ids for trigger_action() </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="abed82baf7f470b522273a3e37c24c600afdf85ba32b57dbf95f9fb466be643d63"></a>CAMERA2_TRIGGER_AUTOFOCUS</em>&#160;</td><td class="fielddoc">
<p>Trigger an autofocus cycle. The effect of the trigger depends on the autofocus mode in effect when the trigger is received, which is the mode listed in the latest capture request to be dequeued by the HAL. If the mode is OFF, EDOF, or FIXED, the trigger has no effect. In AUTO, MACRO, or CONTINUOUS_* modes, see below for the expected behavior. The state of the autofocus cycle can be tracked in android.control.afMode and the corresponding notifications.</p>
<p>In AUTO or MACRO mode, the AF state transitions (and notifications) when calling with trigger ID = N with the previous ID being K are:</p>
<p>Initial state Transitions INACTIVE (K) -&gt; ACTIVE_SCAN (N) -&gt; AF_FOCUSED (N) or AF_NOT_FOCUSED (N) AF_FOCUSED (K) -&gt; ACTIVE_SCAN (N) -&gt; AF_FOCUSED (N) or AF_NOT_FOCUSED (N) AF_NOT_FOCUSED (K) -&gt; ACTIVE_SCAN (N) -&gt; AF_FOCUSED (N) or AF_NOT_FOCUSED (N) ACTIVE_SCAN (K) -&gt; AF_FOCUSED(N) or AF_NOT_FOCUSED(N) PASSIVE_SCAN (K) Not used in AUTO/MACRO mode PASSIVE_FOCUSED (K) Not used in AUTO/MACRO mode</p>
<p>In CONTINUOUS_PICTURE mode, triggering AF must lock the AF to the current lens position and transition the AF state to either AF_FOCUSED or NOT_FOCUSED. If a passive scan is underway, that scan must complete and then lock the lens position and change AF state. TRIGGER_CANCEL_AUTOFOCUS will allow the AF to restart its operation.</p>
<p>Initial state Transitions INACTIVE (K) -&gt; immediate AF_FOCUSED (N) or AF_NOT_FOCUSED (N) PASSIVE_FOCUSED (K) -&gt; immediate AF_FOCUSED (N) or AF_NOT_FOCUSED (N) PASSIVE_SCAN (K) -&gt; AF_FOCUSED (N) or AF_NOT_FOCUSED (N) AF_FOCUSED (K) no effect except to change next notification ID to N AF_NOT_FOCUSED (K) no effect except to change next notification ID to N</p>
<p>In CONTINUOUS_VIDEO mode, triggering AF must lock the AF to the current lens position and transition the AF state to either AF_FOCUSED or NOT_FOCUSED. If a passive scan is underway, it must immediately halt, in contrast with CONTINUOUS_PICTURE mode. TRIGGER_CANCEL_AUTOFOCUS will allow the AF to restart its operation.</p>
<p>Initial state Transitions INACTIVE (K) -&gt; immediate AF_FOCUSED (N) or AF_NOT_FOCUSED (N) PASSIVE_FOCUSED (K) -&gt; immediate AF_FOCUSED (N) or AF_NOT_FOCUSED (N) PASSIVE_SCAN (K) -&gt; immediate AF_FOCUSED (N) or AF_NOT_FOCUSED (N) AF_FOCUSED (K) no effect except to change next notification ID to N AF_NOT_FOCUSED (K) no effect except to change next notification ID to N</p>
<p>Ext1 is an ID that must be returned in subsequent auto-focus state change notifications through <a class="el" href="camera2_8h.html#a692027d5ba583aa9e1cee75e98a0be11">camera2_notify_callback()</a> and stored in android.control.afTriggerId. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="abed82baf7f470b522273a3e37c24c600a89301229ba1cd5f124dde3197e644db4"></a>CAMERA2_TRIGGER_CANCEL_AUTOFOCUS</em>&#160;</td><td class="fielddoc">
<p>Send a cancel message to the autofocus algorithm. The effect of the cancellation depends on the autofocus mode in effect when the trigger is received, which is the mode listed in the latest capture request to be dequeued by the HAL. If the AF mode is OFF or EDOF, the cancel has no effect. For other modes, the lens should return to its default position, any current autofocus scan must be canceled, and the AF state should be set to INACTIVE.</p>
<p>The state of the autofocus cycle can be tracked in android.control.afMode and the corresponding notification. Continuous autofocus modes may resume focusing operations thereafter exactly as if the camera had just been set to a continuous AF mode.</p>
<p>Ext1 is an ID that must be returned in subsequent auto-focus state change notifications through <a class="el" href="camera2_8h.html#a692027d5ba583aa9e1cee75e98a0be11">camera2_notify_callback()</a> and stored in android.control.afTriggerId. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="abed82baf7f470b522273a3e37c24c600a758eca0b5f52aeb742a67dc38104329d"></a>CAMERA2_TRIGGER_PRECAPTURE_METERING</em>&#160;</td><td class="fielddoc">
<p>Trigger a pre-capture metering cycle, which may include firing the flash to determine proper capture parameters. Typically, this trigger would be fired for a half-depress of a camera shutter key, or before a snapshot capture in general. The state of the metering cycle can be tracked in android.control.aeMode and the corresponding notification. If the auto-exposure mode is OFF, the trigger does nothing.</p>
<p>Ext1 is an ID that must be returned in subsequent auto-exposure/auto-white balance state change notifications through <a class="el" href="camera2_8h.html#a692027d5ba583aa9e1cee75e98a0be11">camera2_notify_callback()</a> and stored in android.control.aePrecaptureId. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00397">397</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Possible template types for construct_default_request() </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57a00dcdb33f9315a906d8b075ad7ff4bf6"></a>CAMERA2_TEMPLATE_PREVIEW</em>&#160;</td><td class="fielddoc">
<p>Standard camera preview operation with 3A on auto. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57ad7e74e006ce98a03cfbfcea88d2d7663"></a>CAMERA2_TEMPLATE_STILL_CAPTURE</em>&#160;</td><td class="fielddoc">
<p>Standard camera high-quality still capture with 3A and flash on auto. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57a15126fa0fa0870769982406371be7703"></a>CAMERA2_TEMPLATE_VIDEO_RECORD</em>&#160;</td><td class="fielddoc">
<p>Standard video recording plus preview with 3A on auto, torch off. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57aaa36157a7a09543e8fcf8bd506dd83fe"></a>CAMERA2_TEMPLATE_VIDEO_SNAPSHOT</em>&#160;</td><td class="fielddoc">
<p>High-quality still capture while recording video. Application will include preview, video record, and full-resolution YUV or JPEG streams in request. Must not cause stuttering on video stream. 3A on auto. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57a4a2bfb772d5a468408193b7c02dd0d73"></a>CAMERA2_TEMPLATE_ZERO_SHUTTER_LAG</em>&#160;</td><td class="fielddoc">
<p>Zero-shutter-lag mode. Application will request preview and full-resolution data for each frame, and reprocess it to JPEG when a still image is requested by user. Settings should provide highest-quality full-resolution images without compromising preview frame rate. 3A on auto. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab04a0655cd1e3bcac5e8f48c18df1a57a8eecd1bd7b90187a10fb86ae20afb332"></a>CAMERA2_TEMPLATE_COUNT</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="camera2_8h_source.html#l00489">489</a> of file <a class="el" href="camera2_8h_source.html">camera2.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f4316de2dfb04db90651672103de31d6.html">hardware</a></li><li class="navelem"><a class="el" href="dir_86044c7f411a47507592ba07f9498427.html">libhardware</a></li><li class="navelem"><a class="el" href="dir_8b3e604cec1d4acc2594697d6aa41052.html">include</a></li><li class="navelem"><a class="el" href="http://source.android.com/devices/halref/dir_6b11132f1a015b03f2670f21bef1d871.html">hardware</a></li><li class="navelem"><a class="el" href="camera2_8h.html">camera2.h</a></li>
    <li class="footer">Generated on Mon Jun 20 2016 18:43:21 for Android Hardware Abstraction Layer by
    <a href="http://source.android.com/index.html">
    <img class="footer" src="http://source.android.com/images/Android_Robot_100.png" alt="Android"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
