<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Android Hardware Abstraction Layer: camera_info Struct Reference</title>
<link href="http://source.android.com/devices/halref/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://www.gstatic.com/external_hosted/source_android_com/sac_doxygen_jquery.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/dynsections.js"></script>
<link href="http://source.android.com/devices/halref/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://source.android.com/devices/halref/resize.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="http://source.android.com/devices/halref/doxygen.css" rel="stylesheet" type="text/css" />
<link href="http://source.android.com/devices/halref/hal_doxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="header">
            <table width=80%>
              <tr>
                <td><a href="http://source.android.com/index.html"><img src="http://source.android.com/assets/images/sac_logo.png" width="123" height="25" alt="Android Developers" /></td>
                <td><a class=toptab href="http://source.android.com/source/index.html">Source</a></td>
                <td><a class=devices href="http://source.android.com/devices/index.html">Devices</a></td>
                <td><a class=toptab href="http://source.android.com/security/index.html">Security</a></td>
                <td><a class=toptab href="http://source.android.com/compatibility/index.html">Compatibility</a></td>
                <td width=20%></td>
              </tr>
            </table>
  </div>
<hr class=light>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structcamera__info.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="structcamera__info.html#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">camera_info Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0649f2bc6181d3fe471c7a9d9ab7b8a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a0649f2bc6181d3fe471c7a9d9ab7b8a4">facing</a></td></tr>
<tr class="separator:a0649f2bc6181d3fe471c7a9d9ab7b8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528d22a2a1651a4831eb643884a3c718"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a528d22a2a1651a4831eb643884a3c718">orientation</a></td></tr>
<tr class="separator:a528d22a2a1651a4831eb643884a3c718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9288ee4ca0f5030aa044d4ce748d7151"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a9288ee4ca0f5030aa044d4ce748d7151">device_version</a></td></tr>
<tr class="separator:a9288ee4ca0f5030aa044d4ce748d7151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947e2649d5c48bd7647d3ed4ee79f550"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="camera__common_8h.html#a650c3d4440786f728ec509ceb6e7a56c">camera_metadata_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a947e2649d5c48bd7647d3ed4ee79f550">static_camera_characteristics</a></td></tr>
<tr class="separator:a947e2649d5c48bd7647d3ed4ee79f550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56fe3fc6d17c77819d1cc6855d1db8d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a56fe3fc6d17c77819d1cc6855d1db8d5">resource_cost</a></td></tr>
<tr class="separator:a56fe3fc6d17c77819d1cc6855d1db8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3562b6f0a409b98b34ab1a02c9e05254"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#a3562b6f0a409b98b34ab1a02c9e05254">conflicting_devices</a></td></tr>
<tr class="separator:a3562b6f0a409b98b34ab1a02c9e05254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb232ea412312c142c55bddc969b924"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcamera__info.html#aabb232ea412312c142c55bddc969b924">conflicting_devices_length</a></td></tr>
<tr class="separator:aabb232ea412312c142c55bddc969b924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00161">161</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a3562b6f0a409b98b34ab1a02c9e05254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** conflicting_devices</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An array of camera device IDs represented as NULL-terminated strings indicating other devices that cannot be simultaneously opened while this camera device is in use.</p>
<p>This field is intended to be used to indicate that this camera device is a composite of several other camera devices, or otherwise has hardware dependencies that prohibit simultaneous usage. If there are no dependencies, a NULL may be returned in this field to indicate this.</p>
<p>The camera service will never simultaneously open any of the devices in this list while this camera device is open.</p>
<p>The strings pointed to in this field will not be cleaned up by the camera service, and must remain while this device is plugged in.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Not valid. Can be assumed to be NULL. Do not read this field.</p>
<p>CAMERA_MODULE_API_VERSION_2_4 or higher:</p>
<p>Always valid. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00404">404</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="aabb232ea412312c142c55bddc969b924"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t conflicting_devices_length</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The length of the array given in the conflicting_devices field.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Not valid. Can be assumed to be 0. Do not read this field.</p>
<p>CAMERA_MODULE_API_VERSION_2_4 or higher:</p>
<p>Always valid. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00419">419</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9288ee4ca0f5030aa044d4ce748d7151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t device_version</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The value of camera_device_t.common.version.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_1_0:</p>
<p>Not valid. Can be assumed to be CAMERA_DEVICE_API_VERSION_1_0. Do not read this field.</p>
<p>CAMERA_MODULE_API_VERSION_2_0 or higher:</p>
<p>Always valid </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00219">219</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0649f2bc6181d3fe471c7a9d9ab7b8a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int facing</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The direction that the camera faces to. See system/core/include/system/camera.h for camera facing definitions.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>It should be CAMERA_FACING_BACK or CAMERA_FACING_FRONT.</p>
<p>CAMERA_MODULE_API_VERSION_2_4 or higher:</p>
<p>It should be CAMERA_FACING_BACK, CAMERA_FACING_FRONT or CAMERA_FACING_EXTERNAL. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00177">177</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a528d22a2a1651a4831eb643884a3c718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int orientation</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The orientation of the camera image. The value is the angle that the camera image needs to be rotated clockwise so it shows correctly on the display in its natural orientation. It should be 0, 90, 180, or 270.</p>
<p>For example, suppose a device has a naturally tall screen. The back-facing camera sensor is mounted in landscape. You are looking at the screen. If the top side of the camera sensor is aligned with the right edge of the screen in natural orientation, the value should be 90. If the top side of a front-facing camera sensor is aligned with the right of the screen, the value should be 270.</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Valid in all <a class="el" href="structcamera__module.html">camera_module</a> versions.</p>
<p>CAMERA_MODULE_API_VERSION_2_4 or higher:</p>
<p>Valid if camera facing is CAMERA_FACING_BACK or CAMERA_FACING_FRONT, not valid if camera facing is CAMERA_FACING_EXTERNAL. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00202">202</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a56fe3fc6d17c77819d1cc6855d1db8d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int resource_cost</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The total resource "cost" of using this camera, represented as an integer value in the range [0, 100] where 100 represents total usage of the shared resource that is the limiting bottleneck of the camera subsystem. This may be a very rough estimate, and is used as a hint to the camera service to determine when to disallow multiple applications from simultaneously opening different cameras advertised by the camera service.</p>
<p>The camera service must be able to simultaneously open and use any combination of camera devices exposed by the HAL where the sum of the resource costs of these cameras is &lt;= 100. For determining cost, each camera device must be assumed to be configured and operating at the maximally resource-consuming framerate and stream size settings available in the configuration settings exposed for that device through the camera metadata.</p>
<p>The camera service may still attempt to simultaneously open combinations of camera devices with a total resource cost &gt; 100. This may succeed or fail. If this succeeds, combinations of configurations that are not supported due to resource constraints from having multiple open devices should fail during the configure calls. If the total resource cost is &lt;= 100, open and configure should never fail for any stream configuration settings or other device capabilities that would normally succeed for a device when it is the only open camera device.</p>
<p>This field will be used to determine whether background applications are allowed to use this camera device while other applications are using other camera devices. Note: multiple applications will never be allowed by the camera service to simultaneously open the same camera device.</p>
<p>Example use cases:</p>
<p>Ex. 1: Camera Device 0 = Back Camera Camera Device 1 = Front Camera</p>
<ul>
<li>Using both camera devices causes a large framerate slowdown due to limited ISP bandwidth.</li>
</ul>
<p>Configuration:</p>
<p>Camera Device 0 - resource_cost = 51 conflicting_devices = null Camera Device 1 - resource_cost = 51 conflicting_devices = null</p>
<p>Result:</p>
<p>Since the sum of the resource costs is &gt; 100, if a higher-priority application has either device open, no lower-priority applications will be allowed by the camera service to open either device. If a lower-priority application is using a device that a higher-priority subsequently attempts to open, the lower-priority application will be forced to disconnect the the device.</p>
<p>If the highest-priority application chooses, it may still attempt to open both devices (since these devices are not listed as conflicting in the conflicting_devices fields), but usage of these devices may fail in the open or configure calls.</p>
<p>Ex. 2: Camera Device 0 = Left Back Camera Camera Device 1 = Right Back Camera Camera Device 2 = Combined stereo camera using both right and left back camera sensors used by devices 0, and 1 Camera Device 3 = Front Camera</p>
<ul>
<li>Due to do hardware constraints, up to two cameras may be open at once. The combined stereo camera may never be used at the same time as either of the two back camera devices (device 0, 1), and typically requires too much bandwidth to use at the same time as the front camera (device 3).</li>
</ul>
<p>Configuration:</p>
<p>Camera Device 0 - resource_cost = 50 conflicting_devices = { 2 } Camera Device 1 - resource_cost = 50 conflicting_devices = { 2 } Camera Device 2 - resource_cost = 100 conflicting_devices = { 0, 1 } Camera Device 3 - resource_cost = 50 conflicting_devices = null</p>
<p>Result:</p>
<p>Based on the conflicting_devices fields, the camera service guarantees that the following sets of open devices will never be allowed: { 1, 2 }, { 0, 2 }.</p>
<p>Based on the resource_cost fields, if a high-priority foreground application is using camera device 0, a background application would be allowed to open camera device 1 or 3 (but would be forced to disconnect it again if the foreground application opened another device).</p>
<p>The highest priority application may still attempt to simultaneously open devices 0, 2, and 3, but the HAL may fail in open or configure calls for this combination.</p>
<p>Ex. 3: Camera Device 0 = Back Camera Camera Device 1 = Front Camera Camera Device 2 = Low-power Front Camera that uses the same sensor as device 1, but only exposes image stream resolutions that can be used in low-power mode</p>
<ul>
<li><p class="startli">Using both front cameras (device 1, 2) at the same time is impossible due a shared physical sensor. Using the back and "high-power" front camera (device 1) may be impossible for some stream configurations due to hardware limitations, but the "low-power" front camera option may always be used as it has special dedicated hardware.</p>
<p class="startli">Configuration:</p>
<p class="startli">Camera Device 0 - resource_cost = 100 conflicting_devices = null Camera Device 1 - resource_cost = 100 conflicting_devices = { 2 } Camera Device 2 - resource_cost = 0 conflicting_devices = { 1 } Result:</p>
<p class="startli">Based on the conflicting_devices fields, the camera service guarantees that the following sets of open devices will never be allowed: { 1, 2 }.</p>
<p class="startli">Based on the resource_cost fields, only the highest priority application may attempt to open both device 0 and 1 at the same time. If a higher-priority application is not using device 1 or 2, a low-priority background application may open device 2 (but will be forced to disconnect it if a higher-priority application subsequently opens device 1 or 2).</p>
</li>
</ul>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_2_3 or lower:</p>
<p>Not valid. Can be assumed to be 100. Do not read this field.</p>
<p>CAMERA_MODULE_API_VERSION_2_4 or higher:</p>
<p>Always valid. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00376">376</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a947e2649d5c48bd7647d3ed4ee79f550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="camera__common_8h.html#a650c3d4440786f728ec509ceb6e7a56c">camera_metadata_t</a>* static_camera_characteristics</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The camera's fixed characteristics, which include all static camera metadata specified in system/media/camera/docs/docs.html. This should be a sorted metadata buffer, and may not be modified or freed by the caller. The pointer should remain valid for the lifetime of the camera module, and values in it may not change after it is returned by get_camera_info().</p>
<p>Version information (based on camera_module_t.common.module_api_version):</p>
<p>CAMERA_MODULE_API_VERSION_1_0:</p>
<p>Not valid. Extra characteristics are not available. Do not read this field.</p>
<p>CAMERA_MODULE_API_VERSION_2_0 or higher:</p>
<p>Valid if device_version &gt;= CAMERA_DEVICE_API_VERSION_2_0. Do not read otherwise. </p>

<p>Definition at line <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html#l00241">241</a> of file <a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>hardware/libhardware/include/hardware/<a class="el" href="http://source.android.com/devices/halref/camera__common_8h_source.html">camera_common.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structcamera__info.html">camera_info</a></li>
    <li class="footer">Generated on Mon Jun 20 2016 18:43:21 for Android Hardware Abstraction Layer by
    <a href="http://source.android.com/index.html">
    <img class="footer" src="http://source.android.com/images/Android_Robot_100.png" alt="Android"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
