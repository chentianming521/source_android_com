<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Android Hardware Abstraction Layer: FlpLocationInterface Struct Reference</title>
<link href="http://source.android.com/devices/halref/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://www.gstatic.com/external_hosted/source_android_com/sac_doxygen_jquery.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/dynsections.js"></script>
<link href="http://source.android.com/devices/halref/navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://source.android.com/devices/halref/resize.js"></script>
<script type="text/javascript" src="http://source.android.com/devices/halref/navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="http://source.android.com/devices/halref/doxygen.css" rel="stylesheet" type="text/css" />
<link href="http://source.android.com/devices/halref/hal_doxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="header">
            <table width=80%>
              <tr>
                <td><a href="http://source.android.com/index.html"><img src="http://source.android.com/assets/images/sac_logo.png" width="123" height="25" alt="Android Developers" /></td>
                <td><a class=toptab href="http://source.android.com/source/index.html">Source</a></td>
                <td><a class=devices href="http://source.android.com/devices/index.html">Devices</a></td>
                <td><a class=toptab href="http://source.android.com/security/index.html">Security</a></td>
                <td><a class=toptab href="http://source.android.com/compatibility/index.html">Compatibility</a></td>
                <td width=20%></td>
              </tr>
            </table>
  </div>
<hr class=light>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('struct_flp_location_interface.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="struct_flp_location_interface.html#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">FlpLocationInterface Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fused__location_8h_source.html">fused_location.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a854352f53b148adc24983a58a1866d66"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a854352f53b148adc24983a58a1866d66">size</a></td></tr>
<tr class="separator:a854352f53b148adc24983a58a1866d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dab1b205936fec40d88a6d93c05ec5b"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a7dab1b205936fec40d88a6d93c05ec5b">init</a> )(<a class="el" href="struct_flp_callbacks.html">FlpCallbacks</a> *callbacks)</td></tr>
<tr class="separator:a7dab1b205936fec40d88a6d93c05ec5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d528b3e0f820870b4699eb5f6725626"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a5d528b3e0f820870b4699eb5f6725626">get_batch_size</a> )()</td></tr>
<tr class="separator:a5d528b3e0f820870b4699eb5f6725626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ccaf296a3d85afc6fe920e30a72ff9"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a19ccaf296a3d85afc6fe920e30a72ff9">start_batching</a> )(int id, <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> *options)</td></tr>
<tr class="separator:a19ccaf296a3d85afc6fe920e30a72ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b963c66b85878c8e6b4adcf04d70e6"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#ab9b963c66b85878c8e6b4adcf04d70e6">update_batching_options</a> )(int id, <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> *new_options)</td></tr>
<tr class="separator:ab9b963c66b85878c8e6b4adcf04d70e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7805fbf1f0468c22d23c8afc3180d383"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a7805fbf1f0468c22d23c8afc3180d383">stop_batching</a> )(int id)</td></tr>
<tr class="separator:a7805fbf1f0468c22d23c8afc3180d383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29365b85c21092c1400a91e47583f322"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a29365b85c21092c1400a91e47583f322">cleanup</a> )()</td></tr>
<tr class="separator:a29365b85c21092c1400a91e47583f322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadb4e6a6f37d52ce275153c6940c7af"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#aaadb4e6a6f37d52ce275153c6940c7af">get_batched_location</a> )(int last_n_locations)</td></tr>
<tr class="separator:aaadb4e6a6f37d52ce275153c6940c7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d246c24cca3421979e913a1736224d8"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a6d246c24cca3421979e913a1736224d8">inject_location</a> )(<a class="el" href="struct_flp_location.html">FlpLocation</a> *location)</td></tr>
<tr class="separator:a6d246c24cca3421979e913a1736224d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac916f5d4bdd926b63a7ea4d2058836d7"><td class="memItemLeft" align="right" valign="top">const void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#ac916f5d4bdd926b63a7ea4d2058836d7">get_extension</a> )(const char *name)</td></tr>
<tr class="separator:ac916f5d4bdd926b63a7ea4d2058836d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a101e7b9907ea0d7f60ba80b5bc79f"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_flp_location_interface.html#a41a101e7b9907ea0d7f60ba80b5bc79f">flush_batched_locations</a> )()</td></tr>
<tr class="separator:a41a101e7b9907ea0d7f60ba80b5bc79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents the standard FLP interface. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00321">321</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a29365b85c21092c1400a91e47583f322"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* cleanup)()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the interface. If any batch operations are in progress, they should be stopped. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00398">398</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a41a101e7b9907ea0d7f60ba80b5bc79f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* flush_batched_locations)()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve all batched locations currently stored and clear the buffer. flp_location_callback MUST be called in response, even if there are no locations to flush (in which case num_locations should be 0). Subsequent calls to get_batched_location or flush_batched_locations should not return any of the locations returned in this call. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00436">436</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5d528b3e0f820870b4699eb5f6725626"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* get_batch_size)()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the batch size (in number of <a class="el" href="struct_flp_location.html">FlpLocation</a> objects) available in the hardware. Note, different HW implementations may have different sample sizes. This shall return number of samples defined in the format of <a class="el" href="struct_flp_location.html">FlpLocation</a>. This will be used by the upper layer, to decide on the batching interval and whether the AP should be woken up or not. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00343">343</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaadb4e6a6f37d52ce275153c6940c7af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* get_batched_location)(int last_n_locations)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the fused location that was batched. flp_location_callback is used to return the location. The location object is dropped from the buffer only when the buffer is full. Do not remove it from the buffer just because it has been returned using the callback. In other words, when there is no new location object, two calls to get_batched_location(1) should return the same location object. Parameters: last_n_locations - Number of locations to get. This can be one or many. If the last_n_locations is 1, you get the latest location known to the hardware. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00412">412</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac916f5d4bdd926b63a7ea4d2058836d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void*(* get_extension)(const char *name)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to extension information. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00427">427</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7dab1b205936fec40d88a6d93c05ec5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* init)(<a class="el" href="struct_flp_callbacks.html">FlpCallbacks</a> *callbacks)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the interface and provides the callback routines to the implementation of this interface. Once called you should respond by calling the flp_capabilities_callback in <a class="el" href="struct_flp_callbacks.html">FlpCallbacks</a> to specify the capabilities that your implementation supports. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00333">333</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d246c24cca3421979e913a1736224d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* inject_location)(<a class="el" href="struct_flp_location.html">FlpLocation</a> *location)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Injects current location from another location provider latitude and longitude are measured in degrees expected accuracy is measured in meters Parameters: location - The location object being injected. Return value: FLP_RESULT_SUCCESS or FLP_RESULT_ERROR. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00422">422</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a854352f53b148adc24983a58a1866d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set to sizeof(FlpLocationInterface) </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00325">325</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19ccaf296a3d85afc6fe920e30a72ff9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* start_batching)(int id, <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> *options)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start batching locations. This API is primarily used when the AP is asleep and the device can batch locations in the hardware. flp_location_callback is used to return the locations. When the buffer is full and FLP_BATCH_WAKEUP_ON_FIFO_FULL is used, the AP is woken up. When the buffer is full and FLP_BATCH_WAKEUP_ON_FIFO_FULL is not set, the oldest location object is dropped. In this case the AP will not be woken up. The upper layer will use get_batched_location API to explicitly ask for the location. If FLP_BATCH_CALLBACK_ON_LOCATION_FIX is set, the implementation will call the flp_location_callback every single time there is a location fix. This overrides FLP_BATCH_WAKEUP_ON_FIFO_FULL flag setting. It's the responsibility of the upper layers (caller) to switch it off, if it knows that the AP might go to sleep. This is useful for nagivational applications when the system is in high power mode. Parameters: id - Id for the request. options - See <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> struct definition. Return value: FLP_RESULT_SUCCESS on success, FLP_RESULT_INSUFFICIENT_MEMORY, FLP_RESULT_ID_EXISTS, FLP_RESULT_ERROR on failure. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00367">367</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7805fbf1f0468c22d23c8afc3180d383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* stop_batching)(int id)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop batching. Parameters: id - Id for the request. Return Value: FLP_RESULT_SUCCESS on success, FLP_RESULT_ID_UNKNOWN or FLP_RESULT_ERROR on failure. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00392">392</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9b963c66b85878c8e6b4adcf04d70e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* update_batching_options)(int id, <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> *new_options)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> associated with a batching request. When a batching operation is in progress and a batching option such as FLP_BATCH_WAKEUP_ON_FIFO_FULL needs to be updated, this API will be used. For instance, this can happen when the AP is awake and the maps application is being used. Parameters: id - Id of an existing batch request. new_options - Updated <a class="el" href="struct_flp_batch_options.html">FlpBatchOptions</a> Return value: FLP_RESULT_SUCCESS on success, FLP_RESULT_ID_UNKNOWN, FLP_RESULT_ERROR on error. </p>

<p>Definition at line <a class="el" href="fused__location_8h_source.html#l00382">382</a> of file <a class="el" href="fused__location_8h_source.html">fused_location.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>hardware/libhardware/include/hardware/<a class="el" href="fused__location_8h_source.html">fused_location.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_flp_location_interface.html">FlpLocationInterface</a></li>
    <li class="footer">Generated on Mon Jun 20 2016 18:43:21 for Android Hardware Abstraction Layer by
    <a href="http://source.android.com/index.html">
    <img class="footer" src="http://source.android.com/images/Android_Robot_100.png" alt="Android"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
