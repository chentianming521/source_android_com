<!DOCTYPE html>











































































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<meta name="Description" content="You can create builds for Nexus devices using Android Open Source Project (AOSP) builds and the relevant hardware-specific binaries. For available Android builds and targeted Nexus devices, see Source Code, Tags, and Builds . You can also create buildsâ€¦">

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
<title>Selecting Devices | Android Open Source Project</title>

<!-- STYLESHEETS -->
<link rel="stylesheet"
href="https://fonts.googleapis.com/css?family=Roboto:regular,medium,thin,italic,mediumitalic,bold" title="roboto">
<link href="../assets/css/default.css" rel="stylesheet" type="text/css">



<!-- JAVASCRIPT -->
<script src="https://www.google.com/jsapi" type="text/javascript"></script>
<script src="../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "/";
  
  var devsite = false;
  
</script>
<script src="../assets/js/docs.js" type="text/javascript"></script>


<script type="text/javascript" src="https://www.gstatic.com/feedback/api.js"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45455297-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body class="gc-documentation 
  " itemscope itemtype="http://schema.org/Article">
<a name="top"></a>

  
    <!-- Header -->
    <div id="header">
        <div class="wrap" id="header-wrap">
          <div class="col-3 saclogo">
          <a href="../index.html">
            <img src="../assets/images/sac_logo.png"
                srcset="/assets/images/sac_logo@2x.png 2x"
                width="123" height="25" alt="Android Open Source Project" />
          </a>
          </div>
            <ul class="nav-x col-9">
                <li class="source">
                  <a href="index.html" class="selected"
                  >Source</a></li>
                <li class="devices"><a href="../devices/index.html" 
                  >Devices</a></li>
                <li class="security"><a href="../security/index.html" 
                  >Security</a></li>
                <li class="compatibility last"><a href="../compatibility/index.html" 
                  >Compatibility</a></li>
            </ul>
            <!-- New Search -->
            <div class="menu-container">
            <div class="moremenu">
    <div id="more-btn"></div>
  </div>
  <div class="morehover" id="moremenu">
    <div class="top"></div>
    <div class="mid">
      <div class="header">Android Sites</div>
      <ul>
        <li class="active"><a>Android Open Source Project</a></li>
        <li><a href="http://www.android.com">Android.com</a></li>
        <li><a href="http://developer.android.com">Android Developers</a></li>
      </ul>
      <!-- <div class="header">Support</div>
      <ul>
        <li><a href="/support.html">Developer Support</a></li>
      </ul> -->
      <br class="clearfix" />
    </div>
    <div class="bottom"></div>
  </div>

  <div class="search" id="search-container">
    <div class="search-inner">
      <div id="search-btn"></div>
      <div class="left"></div>
      <form onsubmit="return submit_search()">
        <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q"
onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)"
onkeydown="return search_changed(event, true, '/')"
onkeyup="return search_changed(event, false, '/')" />
      </form>
      <div class="right"></div>
        <a class="close hide">close</a>
        <div class="left"></div>
        <div class="right"></div>
    </div>
  </div>
  <div id="search_filtered_wrapper">
    <div id="search_filtered_div" class="no-display">
        <ul id="search_filtered">
        </ul>
    </div>
  </div>

  </div>
  <!-- /New Search> -->
        </div>
    </div>
    <!-- /Header -->

  <div id="searchResults" class="wrap" style="display:none;">
          <h2 id="searchTitle">Results</h2>
          <div id="leftSearchControl" class="search-control">Loading...</div>
  </div>

  
  
  
    
  <div class="wrap clearfix" id="body-content">
    <div class="col-4" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      <div id="devdoc-nav" class="scroll-pane">
<a class="totop" href="devices.html#top" data-g-event="left-nav-top">to top</a>

<!--
    Copyright 2015 The Android Open Source Project

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<ul id="nav">
  <li class="nav-section">
    <div class="nav-section-header">
      <a href="index.html">
        <span class="en">Overview</span>
      </a>
    </div>
    <ul>
      <li><a href="code-lines.html">Codelines, Branches, and Releases</a></li>
      <li><a href="build-numbers.html">Codenames, Tags, and Build Numbers</a></li>
      <li><a href="roles.html">Project Roles</a></li>
      <li><a href="brands.html">Brand Guidelines</a></li>
      <li><a href="licenses.html">Licenses</a></li>
      <li><a href="faqs.html">FAQ</a></li>
    </ul>
  </li>


  <li class="nav-section">
      <div class="nav-section-header">
        <a href="requirements.html">
          <span class="en">Downloading and Building</span>
        </a>
      </div>
       <ul>
        <li><a href="initializing.html">Establishing a Build Environment</a></li>
        <li><a href="downloading.html">Downloading the Source</a></li>
        <li><a href="building.html">Preparing to Build</a></li>
        <li><a href="jack.html">Compiling with Jack</a></li>
        <li><a href="devices.html">Selecting Devices</a></li>
        <li><a href="running.html">Running Builds</a></li>
        <li><a href="building-kernels.html">Building Kernels</a></li>
        <li><a href="known-issues.html">Known Issues</a></li>
      </ul>
  </li>
  <li class="nav-section">
          <div class="nav-section-header">
            <a href="developing.html">
              <span class="en">Developing</span>
            </a>
          </div>
          <ul>
            <li><a href="using-repo.html">Using Repo</a></li>
            <li><a href="git-resources.html">Learning Git</a></li>
            <li><a href="add-device.html">Adding a New Device</a></li>
            <li><a href="64-bit-builds.html">Understanding 64-bit Builds</a></li>
          </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header">
      <a href="contributing.html">
        <span class="en">Contributing</span>
      </a>
    </div>
       <ul>
        <li><a href="life-of-a-patch.html">Life of a Patch</a>
        <li><a href="submit-patches.html">Submitting Patches</a></li>
        <li><a href="http://android-review.googlesource.com">View Patches</a></li>
        <li><a href="life-of-a-bug.html">Life of a Bug</a></li>
        <li><a href="report-bugs.html">Reporting Bugs</a></li>
        <li><a href="read-bug-reports.html">Reading Bug Reports</a></li>
        <li><a href="code-style.html">Code Style Rules</a></li>
      </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header empty">
      <a href="community.html">
        <span class="en">Community</span>
      </a>
    </div>
  </li>

</ul>


      </div>
    </div> <!-- end side-nav -->
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>

  




<div class="col-12" id="doc-col" >


  
    
      
        <h1 itemprop="name" >Selecting Devices</h1>
      
    
  


  
  <div id="jd-content">

    <div class="jd-descr" itemprop="articleBody">
    <!--
    Copyright 2016 The Android Open Source Project

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<div id="qv-wrapper">
  <div id="qv">
    <h2>In this document</h2>
    <ol id="auto-toc">
    </ol>
  </div>
</div>


<p>You can create builds for Nexus devices using Android Open Source Project
(AOSP) builds and the relevant hardware-specific binaries. For available Android
builds and targeted Nexus devices, see
<a href="build-numbers.html#source-code-tags-and-builds">Source
Code, Tags, and Builds</a>.</p>

<p class="note"><b>Note:</b> Due to hardware differences, do not use Android
4.1.1 on a Nexus 7 originally sold with Android 4.1.2 or newer.</p>

<p>You can also create builds for the
<a href="https://android.googlesource.com/device/linaro/hikey/">HiKey</a>
Android reference board (described below). Reference boards are designed to help
non-Nexus component vendors develop and port drivers to Android releases. Using
a reference board can ease upgrade efforts, reduce time-to-market for new
Android devices, lower device costs by enabling ODM/OEMs to choose from a wider
range of compatible components, and increase the speed of innovation among
component suppliers.</p>

<h2 id="hikey-boards">HiKey boards</h2>

<p>Google supports
<a href="https://www.96boards.org/products/ce/hikey/">HiKey</a>, a certified
<a href="http://www.96boards.org/">96Board</a>, as an Android reference board.
AOSP provides kernel source and board support for HiKey to enable developers to
easily create and debug new and existing peripheral drivers, do kernel
development, and perform other tasks with fewer OEM encumbrances.</p>

<p>HiKey boards</a> are available in
<a href="http://www.lenovator.com/product/86.html">1GB RAM</a> and
<a href="http://www.lenovator.com/product/90.html">2GB RAM</a> configurations from
<a href="http://www.lenovator.com">Lenovator</a>:</p>

<img src="images/hikey-board.png" alt="HiKey board image" />
<p class="img-caption"><strong>Figure 1.</strong> HiKey board by Lenovator</p>

<p>Additional resources:</p>
<ul>
<li>
<a href="https://www.96boards.org/wp-content/uploads/2015/02/96Boards-Hikey-Rev-A1.pdf">HiKey
schematics</a></li>
<li>
<a href="https://www.96boards.org/wp-content/uploads/2015/02/HiKey_User_Guide_Rev0.2.pdf">HiKey
User Guide</a></li>
<li>
<a href="https://github.com/96boards/documentation/wiki/HiKey-Home">HiKey
wiki</a></li>
</ul>

<h2 id="running-android-hikey">Running Android on HiKey</h2>

<p>Use the following commands to download, build, and run Android on a HiKey
board.</p>

<h3 id="compiling-userspace">Compiling userspace</h3>
<ol>
<li>Download the Android source tree:<br>
<pre><code>$ repo init -u <a href="https://android.googlesource.com/platform/manifest">https://android.googlesource.com/platform/manifest</a> -b master<br>
$ repo sync -j24</code></pre></li>
<li>Download and extract HDMI binaries into the Android source tree:<br>
<pre><code>$ wget <a href="https://dl.google.com/dl/android/aosp/linaro-hikey-20160226-67c37b1a.tgz">https://dl.google.com/dl/android/aosp/linaro-hikey-20160226-67c37b1a.tgz</a><br>
$ tar xzf linaro-hikey-20160226-67c37b1a.tgz<br>
$ ./extract-linaro-hikey.sh</code></pre></li>
<li>Install mcopy utility:<br>
<pre><code>$ apt-get install mtools</code></pre></li>
<li>Build:<br>
<pre><code>$ . ./build/envsetup.sh<br>
$ lunch hikey-userdebug<br>
$ make -j32</code></pre></li>
</ol>

<p class="note"><b>Note:</b> For 4GB eMMC, instead of <code>$ make -j32</code>
use: <code>$ make -j32 TARGET_USERDATAIMAGE_4GB=true</code>.</p>

<h3 id="installing-fastboot-ptable">Installing initial fastboot and ptable</h3>
<ol>
<li>Select special bootloader mode by linking J15 1-2 and 3-4 pins (for details,
refer to the
<a href="https://www.96boards.org/wp-content/uploads/2015/02/HiKey_User_Guide_Rev0.2.pdf">HiKey
User Guide</a>).</li>
<li>Connect USB to PC to get ttyUSB device (ex: <code>/dev/ttyUSB1</code>).</li>
<li>Power the board:<br>
<pre><code>$ cd device/linaro/hikey/installer<br>
$ ./flash-all.sh /dev/ttyUSB1 [4g]</code></pre></li>
<li>Remove jumper 3-4 and power the board.</li>
</ol>

<h3 id="flashing-images">Flashing images</h3>
<ol>
<li>Enter fastboot mode by linking J15 1-2 and 5-6 pins.</li>
<li>Run the following commands:<br>
<pre><code>$ fastboot flash boot out/target/product/hikey/boot.img<br>
$ fastboot flash -w system out/target/product/hikey/system.img</code></pre></li>
<li>Remove jumper 5-6 and power the board.</li>
</ol>

<h3 id="building-kernel">Building the kernel</h3>
<ol>
<li>Run the following commands:<br>
<pre><code>$ git clone <a href="https://android.googlesource.com/kernel/hikey-linaro">https://android.googlesource.com/kernel/hikey-linaro</a><br>
$ cd hikey-linaro<br>
$ git checkout -b android-hikey-linaro-4.4 origin/android-hikey-linaro-4.4<br>
$ make ARCH=arm64 hikey_defconfig<br>
$ make ARCH=arm64 CROSS_COMPILE=aarch64-linux-android- -j24</code></pre></li>
<li>Copy output to the hikey kernel directory
(<code>/kernel/hikey-linaro</code>):
<ol>
<li>Copy hi6220-hikey.dtb
(<code>arch/arm64/boot/dts/hisilicon/hi6220-hikey.dtb</code>) to the
hikey-kernel directory.</li>
<li>Copy the Image file <code>(arch/arm64/boot/Image-dtb</code>) to the
hikey-kernel directory.
<li>Make the boot image:
<pre>
$ make bootimage -j24
</pre>
</li>
</ol>
</li>
</ol>

<h3 id="setting-resolution">Setting monitor resolution</h3>
<p>Edit <code>device/linaro/hikey/BoardConfig.mk</code> parameter
<code>BOARD_KERNEL_CMDLINE</code> and configure the <code>video</code> setting.
Example setting for a 24" monitor: <code>video=HDMI-A-1:1280x800@60</code>.</p>

<h3 id="configuring-output">Configuring kernel serial output (uart3)</h3>
<p>Set the J2 low speed expansion connector to 1 - Gnd, 11 - Rx, 13 - Tx . For
details, refer to the
<a href="https://www.96boards.org/wp-content/uploads/2015/02/HiKey_User_Guide_Rev0.2.pdf">HiKey
User Guide</a>).</p>

    </div>

      <div class="content-footer-sac"
                    itemscope itemtype="http://schema.org/SiteNavigationElement">
        <div class="layout-content-col col-9" style="padding-top:4px">
        </div>
        
        <div class="paging-links layout-content-col col-4">
          
        </div>
        
      </div>
      
      
    </div> <!-- end jd-content -->
  <div id="footer" class="wrap" >
  <style>.feedback { float: right !Important }</style>
  <div class="feedback">
    <a href="devices.html#" class="button" onclick=" try {
      userfeedback.api.startFeedback({'productId':'715571','authuser':'1'});return false;}catch(e){}">Site Feedback</a>
  </div>
  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../license.html">Content 
  License</a>.
  </div>
    <div id="footerlinks">
    
  <p>
    <a href="index.html">About Android</a>&nbsp;&nbsp;|&nbsp;
    <a href="community.html">Community</a>&nbsp;&nbsp;|&nbsp;
    <a href="../legal.html">Legal</a>&nbsp;&nbsp;|&nbsp;
  </p>
  </div>

</div><!-- end doc-content -->

</div> <!-- end body-content --> 






</body>
</html>



